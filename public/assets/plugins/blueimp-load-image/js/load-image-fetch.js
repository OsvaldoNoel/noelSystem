!function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image"],e):"object"==typeof module&&module.exports?e(require("./load-image")):e(window.loadImage)}((function(e){"use strict";var t=e.global;t.fetch&&t.Request&&t.Response&&t.Response.prototype.blob?e.fetchBlob=function(e,n,o){function s(e){return e.blob()}if(t.Promise&&"function"!=typeof n)return fetch(new Request(e,n)).then(s);fetch(new Request(e,o)).then(s).then(n).catch((function(e){n(null,e)}))}:t.XMLHttpRequest&&""===(new XMLHttpRequest).responseType&&(e.fetchBlob=function(e,n,o){function s(t,n){o=o||{};var s=new XMLHttpRequest;s.open(o.method||"GET",e),o.headers&&Object.keys(o.headers).forEach((function(e){s.setRequestHeader(e,o.headers[e])})),s.withCredentials="include"===o.credentials,s.responseType="blob",s.onload=function(){t(s.response)},s.onerror=s.onabort=s.ontimeout=function(e){t===n?n(null,e):n(e)},s.send(o.body)}return t.Promise&&"function"!=typeof n?(o=n,new Promise(s)):s(n,n)})}));