const CopyPlugin=require("copy-webpack-plugin"),HtmlWebPackPlugin=require("html-webpack-plugin"),MiniCssExtractPlugin=require("mini-css-extract-plugin"),path=require("path"),{defaultStyle,styles,languages,examples}=require("./common");module.exports={mode:"development",resolve:{roots:[path.resolve("./src")]},entry:Object.fromEntries([...styles.map((e=>[`summernote-${e.id}`,`./src/styles/${e.id}/summernote-${e.id}.js`])),...languages.map((e=>[`lang/${e}`,`./src/lang/${e}.js`]))]),externals:{jquery:"jQuery"},module:{rules:[{test:/\.js$/i,exclude:/node_modules/,use:["babel-loader"]},{test:/\.(sa|sc|c)ss$/i,exclude:/node_modules/,use:["style-loader","css-loader","resolve-url-loader","sass-loader"]},{test:/\.(png|jpe?g|gif|svg|woff|woff2|ttf|otf|eot)$/i,exclude:/node_modules/,type:"asset/resource"}]},plugins:[new MiniCssExtractPlugin({filename:"[name].css"}),new CopyPlugin({patterns:[{from:"examples",to:"examples"},{from:"plugin",to:"plugin"}]}),...styles.map((e=>new HtmlWebPackPlugin({chunks:[`summernote-${e.id}`],template:`./src/styles/${e.id}/summernote-${e.id}.html`,styles,filename:`summernote-${e.id}.html`}))),new HtmlWebPackPlugin({chunks:[],template:"./examples/index.template",filename:"examples.html",examples})],devtool:"source-map",devServer:{port:3e3,open:[`/summernote-${defaultStyle}.html`]}};