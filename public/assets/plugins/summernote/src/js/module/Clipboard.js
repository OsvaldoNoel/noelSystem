import lists from"../core/lists";export default class Clipboard{constructor(t){this.context=t,this.$editable=t.layoutInfo.editable}initialize(){this.$editable.on("paste",this.pasteByEvent.bind(this))}pasteByEvent(t){const e=t.originalEvent.clipboardData;if(e&&e.items&&e.items.length){const i=e.items.length>1?e.items[1]:lists.head(e.items);"file"===i.kind&&-1!==i.type.indexOf("image/")?(this.context.invoke("editor.insertImagesOrCallback",[i.getAsFile()]),t.preventDefault()):"string"===i.kind&&this.context.invoke("editor.isLimited",e.getData("Text").length)&&t.preventDefault()}else if(window.clipboardData){let e=window.clipboardData.getData("text");this.context.invoke("editor.isLimited",e.length)&&t.preventDefault()}setTimeout((()=>{this.context.invoke("editor.afterCommand")}),10)}}