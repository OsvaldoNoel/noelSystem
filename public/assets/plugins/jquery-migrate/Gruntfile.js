"use strict";module.exports=function(e){const t=require("gzip-js"),s=/^v10\./.test(process.version),i={showUI:!0,testTimeout:5e3,autostart:!1},r=["external/npo/npo.js",{pattern:"test/data/compareVersions.js",type:"js",nocache:!0},{pattern:"test/data/testinit.js",type:"js",nocache:!0},{pattern:"test/data/test-utils.js",type:"js",nocache:!0},{pattern:"test/unit/migrate.js",type:"js",nocache:!0},{pattern:"test/unit/jquery/core.js",type:"js",nocache:!0},{pattern:"test/unit/jquery/ajax.js",type:"js",nocache:!0},{pattern:"test/unit/jquery/attributes.js",type:"js",nocache:!0},{pattern:"test/unit/jquery/css.js",type:"js",nocache:!0},{pattern:"test/unit/jquery/data.js",type:"js",nocache:!0},{pattern:"test/unit/jquery/deferred.js",type:"js",nocache:!0},{pattern:"test/unit/jquery/effects.js",type:"js",nocache:!0},{pattern:"test/unit/jquery/event.js",type:"js",nocache:!0},{pattern:"test/unit/jquery/manipulation.js",type:"js",nocache:!0},{pattern:"test/unit/jquery/offset.js",type:"js",nocache:!0},{pattern:"test/unit/jquery/serialize.js",type:"js",nocache:!0},{pattern:"test/unit/jquery/traversing.js",type:"js",nocache:!0},{pattern:"test/data/qunit-start.js",type:"js",nocache:!0},{pattern:"dist/jquery-migrate.js",included:!1,served:!0,nocache:!0},{pattern:"test/**/*.@(js|json|css|jpg|html|xml)",included:!1,served:!0}];function n(e){return s?"print_old_node_message:"+e:e}e.initConfig({pkg:e.file.readJSON("package.json"),compare_size:{files:["dist/jquery-migrate.js","dist/jquery-migrate.min.js"],options:{compress:{gz:function(e){return t.zip(e,{}).length}},cache:"build/.sizecache.json"}},tests:{jquery:["dev+git","min+git.min","dev+git.slim","min+git.slim.min"],"jquery-3":["dev+3.x-git","min+3.x-git.min","dev+3.x-git.slim","min+3.x-git.slim.min","dev+3.6.3","dev+3.6.3.slim","dev+3.5.1","dev+3.5.1.slim","dev+3.4.1","dev+3.4.1.slim","dev+3.3.1","dev+3.3.1.slim","dev+3.2.1","dev+3.2.1.slim","dev+3.1.1","dev+3.1.1.slim","dev+3.0.0","dev+3.0.0.slim"]},banners:{tiny:"/*! <%= pkg.name %> <%= pkg.version %> - <%= pkg.homepage %> */"},concat:{options:{banner:"/*!\n * <%= pkg.title || pkg.name %> - v<%= pkg.version %> - <%= grunt.template.today('yyyy-mm-dd') %>\n * Copyright <%= pkg.author.name %>\n */\n"},dist:{src:"<%= files %>",dest:"dist/<%= pkg.name %>.js"}},build:{all:{src:"src/migrate.js",dest:"dist/jquery-migrate.js"}},qunit:{files:["test/**/index.html"]},eslint:{options:{quiet:!0},dist:{src:"dist/jquery-migrate.js"},dev:{src:["Gruntfile.js","build/**/*.js","src/**/*.js","test/**/*.js"]}},npmcopy:{all:{options:{destPrefix:"external"},files:{"npo/npo.js":"native-promise-only/lib/npo.src.js","qunit/qunit.js":"qunit/qunit/qunit.js","qunit/qunit.css":"qunit/qunit/qunit.css","qunit/LICENSE.txt":"qunit/LICENSE.txt"}}},uglify:{all:{files:{"dist/jquery-migrate.min.js":["src/migratemute.js","dist/jquery-migrate.js"]},options:{preserveComments:!1,sourceMap:!0,sourceMapName:"dist/jquery-migrate.min.map",report:"min",output:{ascii_only:!0,ie8:!0},banner:"/*! jQuery Migrate v<%= pkg.version %> | (c) <%= pkg.author.name %> | jquery.org/license */",compress:{hoist_funs:!1,loops:!1,typeofs:!1}}}},karma:{options:{customLaunchers:{ChromeHeadlessNoSandbox:{base:"ChromeHeadless",flags:["--no-sandbox"]}},frameworks:["qunit"],files:["https://releases.jquery.com/git/jquery-3.x-git.min.js","dist/jquery-migrate.min.js",...r],client:{clearContext:!1,qunit:i},reporters:["dots"],autoWatch:!1,concurrency:3,captureTimeout:2e4,singleRun:!0},main:{browsers:["ChromeHeadless","FirefoxHeadless"]},"jquery-slim":{browsers:["ChromeHeadless","FirefoxHeadless"],options:{files:["https://releases.jquery.com/git/jquery-3.x-git.slim.min.js","dist/jquery-migrate.min.js",...r]}},esmodules:{browsers:["ChromeHeadless","FirefoxHeadless"],options:{files:["https://releases.jquery.com/git/jquery-3.x-git.slim.min.js",{pattern:"src/migrate.js",type:"module"},{pattern:"src/migratemute.js",type:"module"},...r.map((e=>e&&"object"==typeof e&&"js"===e.type?{...e,type:"module"}:e)),{pattern:"src/**",included:!1,type:"module",served:!0}],client:{qunit:{...i,plugin:"esmodules"}}}},"chrome-debug":{browsers:["Chrome"],singleRun:!1},"firefox-debug":{browsers:["Firefox"],singleRun:!1}},watch:{files:["src/*.js","test/*.js"],tasks:["build"]}}),require("load-grunt-tasks")(e),e.loadTasks("build/tasks"),e.registerTask("print_old_node_message",((...t)=>{var s=t.join(":");e.log.writeln('Old Node.js detected, running the task "'+s+'" skipped...')})),e.registerTask("test",["karma:main","karma:jquery-slim","karma:esmodules"]),e.registerTask("lint",[n("eslint:dev"),n("eslint:dist")]),e.registerTask("default-no-test",["npmcopy","build","uglify","lint","compare_size"]),e.registerTask("default",["default-no-test","test"]),e.registerTask("ci",["default"])};