QUnit.module("core"),QUnit.test("jQuery(html, props)",(function(e){e.expect(2);var t=jQuery("<input/>",{name:"name",val:"value"});e.equal(t.attr("name"),"name","Name attribute"),e.equal(t.val(),"value","Call setter method")})),QUnit.test("jQuery( '#' )",(function(e){e.expect(2),expectWarning(e,"Selector, through the jQuery constructor, nothing but hash",(function(){var t=jQuery("#");e.equal(t.length,0,"empty set")}))})),QUnit.test("Attribute selectors with unquoted hashes",(function(e){e.expect(31);var t=jQuery("<div><div data-selector='a[href=#main]'></div><a href='space#junk'>test</a><link rel='good#stuff' /><p class='space #junk'><a href='#some-anchor'>anchor2</a><input value='[strange*=#stuff]' /><a href='#' data-id='#junk'>anchor</a></p></div>").appendTo("#qunit-fixture"),n=["a[href='#some-anchor']",'[data-id="#junk"]',"div[data-selector='a[href=#main]']","input[value~= '[strange*=#stuff]']"],r=["a[href=#]","a[href*=#]:not([href=#]):first-child",".space a[href=#]","a[href=#some-anchor]","link[rel*=#stuff]","p[class *= #junk]","a[href=space#junk]"],i=["div[data-selector='a[href=#main]']:first","input[value= '[strange*=#stuff]']:eq(0)"],u=["p[class ^= #junk]:first","a[href=space#junk]:eq(1)"];expectNoWarning(e,"Perfectly cromulent selectors are unchanged",(function(){n.forEach((function(n){e.equal(jQuery(n,t).length,1,n),e.equal(t.find(n).length,1,n)}))})),expectWarning(e,"Values with unquoted hashes are quoted",2*r.length,(function(){r.forEach((function(n){e.equal(jQuery(n,t).length,1,n),e.equal(t.find(n).length,1,n)}))})),expectWarning(e,"False positives",2*i.length,(function(){i.forEach((function(n){e.equal(jQuery(n,t).length,1,n),e.equal(t.find(n).length,1,n)}))})),expectWarning(e,"Unfixable cases",2*u.length,(function(){u.forEach((function(n){try{jQuery(n,t),e.ok(!1,"Expected jQuery() to die!")}catch(e){}try{t.find(n),e.ok(!1,"Expected .find() to die!")}catch(e){}}))})),expectNoWarning(e,"ready function with attribute selector",(function(){try{jQuery((function(){jQuery.thisIsNeverTrue&&jQuery("a[href=#]")}))}catch(e){}}))})),QUnit.test("XSS injection (leading hash)",(function(e){e.expect(1);var t=!1;try{jQuery("#yeah<p>RIGHT</p>")}catch(e){t=!0}e.equal(t,!0,"Throw on leading-hash HTML (treated as selector)")})),QUnit.test("XSS injection (XSS via script tag)",(function(e){e.expect(2);var t=!1;window.XSS=!1;try{jQuery("#<script>window.XSS=true<\/script>")}catch(e){t=!0}e.equal(t,!0,"Throw on leading-hash HTML (treated as selector)"),e.equal(window.XSS,!1,"XSS")})),QUnit.test("XSS injection (XSS with hash and leading space)",(function(e){e.expect(2);var t=!1;window.XSS=!1;try{jQuery(" \n#<script>window.XSS=true<\/script>")}catch(e){t=!0}e.equal(t,!0,"Throw on leading-hash HTML and space (treated as selector)"),e.equal(window.XSS,!1,"XSS")})),QUnit.test("XSS injection (XSS via onerror inline handler)",(function(e){e.expect(2);var t,n=!1;window.XSS=!1;try{jQuery("#<img src=haha onerror='window.XSS=true' />")}catch(e){n=!0}e.equal(n,!0,"Throw on leading-hash HTML (treated as selector)"),t=e.async(),setTimeout((function(){e.equal(window.XSS,!1,"XSS"),t()}),1e3)})),QUnit.test("jQuery( '<element>' ) usable on detached elements (#128)",(function(e){e.expect(1),jQuery("<a>").outerWidth(),e.ok(!0,"No crash when operating on detached elements with window")})),QUnit.test(".size",(function(e){e.expect(1),expectWarning(e,"size",(function(){jQuery("<div />").size()}))})),QUnit.test("jQuery.parseJSON",(function(e){e.expect(2),expectWarning(e,"jQuery.parseJSON",(function(){e.deepEqual(jQuery.parseJSON('{"a":1}'),{a:1},"jQuery.parseJSON output")}))})),QUnit.test("isNumeric",(function(e){e.expect(43);var t=jQuery.isNumeric,n=function(e){this.toString=function(){return String(e)}};e.ok(t("-10"),"Negative integer string"),e.ok(t("0"),"Zero string"),e.ok(t("5"),"Positive integer string"),e.ok(t(-16),"Negative integer number"),e.ok(t(0),"Zero integer number"),e.ok(t(32),"Positive integer number"),e.ok(t("-1.6"),"Negative floating point string"),e.ok(t("4.536"),"Positive floating point string"),e.ok(t(-2.6),"Negative floating point number"),e.ok(t(3.1415),"Positive floating point number"),e.ok(t(1.5999999999999999),"Very precise floating point number"),e.ok(t(8e5),"Exponential notation"),e.ok(t("123e-2"),"Exponential notation string"),e.ok(t("040"),"Legacy octal integer literal string"),e.ok(t("0xFF"),"Hexadecimal integer literal string (0x...)"),e.ok(t("0Xba"),"Hexadecimal integer literal string (0X...)"),e.ok(t(4095),"Hexadecimal integer literal"),e.ok(t("0b111110"),"Binary integer literal string (0b...)"),e.ok(t("0B111110"),"Binary integer literal string (0B...)"),e.ok(t("0o76"),"Octal integer literal string (0o...)"),e.ok(t("0O76"),"Octal integer literal string (0O...)"),e.equal(t(new n("42")),!1,"Only limited to strings and numbers"),e.equal(t(""),!1,"Empty string"),e.equal(t("        "),!1,"Whitespace characters string"),e.equal(t("\t\t"),!1,"Tab characters string"),e.equal(t("abcdefghijklm1234567890"),!1,"Alphanumeric character string"),e.equal(t("xabcdefx"),!1,"Non-numeric character string"),e.equal(t(!0),!1,"Boolean true literal"),e.equal(t(!1),!1,"Boolean false literal"),e.equal(t("bcfed5.2"),!1,"Number with preceding non-numeric characters"),e.equal(t("7.2acdgs"),!1,"Number with trailing non-numeric characters"),e.equal(t(void 0),!1,"Undefined value"),e.equal(t(null),!1,"Null value"),e.equal(t(NaN),!1,"NaN value"),e.equal(t(1/0),!1,"Infinity primitive"),e.equal(t(Number.POSITIVE_INFINITY),!1,"Positive Infinity"),e.equal(t(Number.NEGATIVE_INFINITY),!1,"Negative Infinity"),e.equal(t(new n("Devo")),!1,"Custom .toString returning non-number"),e.equal(t({}),!1,"Empty object"),e.equal(t([]),!1,"Empty array"),e.equal(t([42]),!1,"Array with one number"),e.equal(t((function(){})),!1,"Instance of a function"),e.equal(t(new Date),!1,"Instance of a Date")})),QUnit["function"==typeof Symbol?"test":"skip"]("isNumeric(Symbol)",(function(e){e.expect(2),e.equal(jQuery.isNumeric(Symbol()),!1,"Symbol"),e.equal(jQuery.isNumeric(Object(Symbol())),!1,"Symbol inside an object")})),QUnit[jQueryVersionSince("3.3.0")?"test":"skip"](".isNumeric (warn)",(function(e){e.expect(3),expectWarning(e,"warning on isNumeric (and possibly type)",(function(){e.equal(jQuery.isNumeric(42),!0,"isNumeric number"),e.equal(jQuery.isNumeric("nope"),!1,"isNumeric non number")}))})),QUnit[jQueryVersionSince("3.3.0")?"test":"skip"]("jQuery.isWindow",(function(e){e.expect(3),expectWarning(e,"isWindow",2,(function(){e.equal(jQuery.isWindow([]),!1,"array"),e.equal(jQuery.isWindow(window),!0,"window")}))})),QUnit.test("jQuery.unique",(function(e){e.expect(2),expectWarning(e,"jQuery.unique",(function(){var t=jQuery("body")[0],n=jQuery("head")[0];e.deepEqual(jQuery.unique([t,n,t]),[n,t],"unique sorted")}))})),QUnit.test("jQuery.expr.pseudos aliases",(function(e){e.expect(7),expectWarning(e,"jQuery.expr.filters",(function(){jQuery.expr.filters.mazda=function(e){return"3"===e.style.zoom}})),expectWarning(e,"jQuery.expr[':']",(function(){jQuery.expr[":"].marginal=function(e){return parseInt(e.style.marginLeftWidth)>20}})),expectNoWarning(e,"jQuery.expr.pseudos",(function(){var t=jQuery("#qunit-fixture").prepend("<p>hello</p>");e.ok(jQuery.expr.pseudos.mazda,"filters assigned"),e.ok(jQuery.expr.pseudos.marginal,"[':'] assigned"),t.find("p").first().css("marginLeftWidth","40px"),e.equal(t.find("p:marginal").length,1,"One marginal element"),e.equal(t.find("div:mazda").length,0,"No mazda elements"),delete jQuery.expr.pseudos.mazda,delete jQuery.expr.pseudos.marginal}))})),QUnit.test("jQuery.holdReady (warn only)",(function(e){e.expect(1),expectWarning(e,"jQuery.holdReady",2,(function(){jQuery.holdReady(!0),jQuery.holdReady(!1)}))})),QUnit[jQueryVersionSince("3.1.1")?"test":"skip"]("jQuery.trim",(function(e){e.expect(14);var t=String.fromCharCode(160);expectWarning(e,"jQuery.trim",13,(function(){e.equal(jQuery.trim("hello  "),"hello","trailing space"),e.equal(jQuery.trim("  hello"),"hello","leading space"),e.equal(jQuery.trim("  hello   "),"hello","space on both sides"),e.equal(jQuery.trim("  "+t+"hello  "+t+" "),"hello","&nbsp;"),e.equal(jQuery.trim(),"","Nothing in."),e.equal(jQuery.trim(void 0),"","Undefined"),e.equal(jQuery.trim(null),"","Null"),e.equal(jQuery.trim(5),"5","Number"),e.equal(jQuery.trim(!1),"false","Boolean"),e.equal(jQuery.trim(" "),"","space should be trimmed"),e.equal(jQuery.trim("ipad "),"ipad","nbsp should be trimmed"),e.equal(jQuery.trim("\ufeff"),"","zwsp should be trimmed"),e.equal(jQuery.trim("\ufeff  ! | \ufeff"),"! |","leading/trailing should be trimmed")}))})),QUnit[jQueryVersionSince("3.2.0")?"test":"skip"]("jQuery.nodeName",(function(e){e.expect(2),expectWarning(e,"jQuery.nodeName",(function(){var t=document.createElement("div");e.equal(jQuery.nodeName(t,"div"),!0,"it's a div")}))})),QUnit[jQueryVersionSince("3.3.0")?"test":"skip"]("jQuery.isFunction",(function(e){e.expect(4),expectWarning(e,"jQuery.isFunction",(function(){e.equal(jQuery.isFunction((function(){})),!0,"function is function"),e.equal(jQuery.isFunction({}),!1,"object not function"),e.equal(jQuery.isFunction(1),!1,"number not function")}))})),QUnit[jQueryVersionSince("3.3.0")?"test":"skip"]("jQuery.type (warn)",(function(e){e.expect(28),e.equal(jQuery.type(null),"null","null"),e.equal(jQuery.type(void 0),"undefined","undefined"),e.equal(jQuery.type(!0),"boolean","Boolean"),e.equal(jQuery.type(!1),"boolean","Boolean"),e.equal(jQuery.type(Boolean(!0)),"boolean","Boolean"),e.equal(jQuery.type(0),"number","Number"),e.equal(jQuery.type(1),"number","Number"),e.equal(jQuery.type(Number(1)),"number","Number"),e.equal(jQuery.type(""),"string","String"),e.equal(jQuery.type("a"),"string","String"),e.equal(jQuery.type(String("a")),"string","String"),e.equal(jQuery.type({}),"object","Object"),e.equal(jQuery.type(/foo/),"regexp","RegExp"),e.equal(jQuery.type(new RegExp("asdf")),"regexp","RegExp"),e.equal(jQuery.type([1]),"array","Array"),e.equal(jQuery.type(new Date),"date","Date"),e.equal(jQuery.type(new Function("return;")),"function","Function"),e.equal(jQuery.type((function(){})),"function","Function"),e.equal(jQuery.type(new Error),"error","Error"),e.equal(jQuery.type(window),"object","Window"),e.equal(jQuery.type(document),"object","Document"),e.equal(jQuery.type(document.body),"object","Element"),e.equal(jQuery.type(document.createTextNode("foo")),"object","TextNode"),e.equal(jQuery.type(document.getElementsByTagName("*")),"object","NodeList");var t=String,n=Number,r=Boolean,i=Object;e.equal(jQuery.type(new r(!0)),"boolean","Boolean"),e.equal(jQuery.type(new n(1)),"number","Number"),e.equal(jQuery.type(new t("a")),"string","String"),e.equal(jQuery.type(new i),"object","Object")})),QUnit[jQueryVersionSince("3.2.0")?"test":"skip"]("jQuery.isArray",(function(e){e.expect(4),expectWarning(e,"isArray",3,(function(){e.equal(jQuery.isArray([]),!0,"empty array"),e.equal(jQuery.isArray(""),!1,"empty string"),e.equal(jQuery.isArray(jQuery().toArray()),!0,"toArray")}))})),TestManager.runIframeTest("old pre-3.0 jQuery","core-jquery2.html",(function(e,t,n,r,i){e.expect(1),e.ok(/jQuery 3/.test(i),"logged: "+i)}));