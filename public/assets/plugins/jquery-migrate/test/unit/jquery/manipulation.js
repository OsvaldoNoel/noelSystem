"use strict";QUnit.module("manipulation"),QUnit.test("Improperly closed elements",(function(e){e.expect(4);var t=window.alert;window.alert=function(){e.notOk("Called alert with "+arguments)},jQuery.migrateEnablePatches("self-closed-tags"),expectWarning(e,"Elements not self-closable nested wrong",4,(function(){jQuery("<div><p/><span/></div>"),jQuery("<blockquote><p class='bad' /><span/></blockquote>"),jQuery("<div />").append("<div data-borked='y'><span/> <p/></div>"),jQuery("<script /><div class=afterscript/>")})),expectNoWarning(e,"Script doesn't run in processed strings",(function(){jQuery("<script>alert( 'YOU SHOULD NOT SEE THIS ALERT' )<\/script>"),jQuery("<div>").append("<script src='YOU-SHOULD-NOT-SEE-THIS.SCRIPT'><\/script>"),jQuery("<script>alert( 'YOU SHOULD NOT SEE THIS CONSOLE' )<\/script>")})),expectNoWarning(e,"Elements not self-closable but tolerable",(function(){jQuery("<div class=wonky />"),jQuery("<p style='width: 2%' />"),jQuery("<p />").append("<span aria-label='hello' />")})),expectNoWarning(e,"Bare elements",(function(){jQuery("<p/>").append("<strong>"),jQuery("<abbr />"),jQuery("<head />")})),window.alert=t})),QUnit.test("jQuery.UNSAFE_restoreLegacyHtmlPrefilter (deprecated)",(function(e){e.expect(5),jQuery.UNSAFE_restoreLegacyHtmlPrefilter();var t=jQuery.migrateWarnings,r=jQuery("<div/><span/>"),n=r.length,a=r[0]&&r[0].nodeName.toLowerCase(),s=r[1]&&r[1].nodeName.toLowerCase();e.strictEqual(n,2,"Proper child count"),e.strictEqual(a,"div","Proper first element"),e.strictEqual(s,"span","Proper second element"),e.equal(t.length,1,"Proper warning length"),e.ok(t[0].indexOf("HTML tags")>=0,t[0])}));