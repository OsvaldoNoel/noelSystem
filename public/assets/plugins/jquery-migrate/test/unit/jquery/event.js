QUnit.module("event"),QUnit.test("error() event method",(function(e){e.expect(2),expectWarning(e,"jQuery.fn.error()",(function(){jQuery("<img />").error((function(){e.ok(!0,"Triggered error event")})).error().off("error").error().remove()}))})),QUnit.test("load() and unload() event methods",(function(e){e.expect(jQuery.ajax?5:4),expectWarning(e,"jQuery.fn.load()",(function(){jQuery("<img />").load((function(){e.ok(!0,"Triggered load event")})).load().off("load").load().remove()})),expectWarning(e,"jQuery.fn.unload()",(function(){jQuery("<img />").unload((function(){e.ok(!0,"Triggered unload event")})).unload().off("unload").unload().remove()})),jQuery.ajax&&expectNoWarning(e,"ajax load",(function(){var n=e.async();jQuery("<div id=load138></div>").appendTo("#qunit-fixture").load("not-found.file",(function(){jQuery("#load138").remove(),n()}))}))})),QUnit.test(".bind() and .unbind()",(function(e){e.expect(3);var n=jQuery("<div />").appendTo("#qunit-fixture");expectWarning(e,".bind()",1,(function(){n.bind("click",(function(){e.ok(!0,"click fired")})).trigger("click")})),expectWarning(e,".unbind()",1,(function(){n.unbind("click").trigger("click")}))})),QUnit.test(".delegate() and .undelegate()",(function(e){e.expect(3);var n=jQuery("<div />").appendTo("#qunit-fixture");jQuery("<p />").appendTo(n),expectWarning(e,".delegate()",1,(function(){n.delegate("p","click",(function(){e.ok(!0,"delegated click fired")})).find("p").trigger("click")})),expectWarning(e,".undelegate()",1,(function(){n.undelegate("p","click").find("p").trigger("click")}))})),QUnit.test("Event aliases",(function(e){e.expect(14);var n=jQuery("<div />");"scroll click submit keydown".split(" ").forEach((function(t){expectWarning(e,"."+t+"()",2,(function(){n[t]((function(r){e.equal(r.type,t,t),n.off(r)}))[t]()}))})),expectWarning(e,".hover() one-arg",1,(function(){n.hover((function(t){e.ok(/mouseenter|mouseleave/.test(t.type),t.type),n.off(t)})).trigger("mouseenter").trigger("mouseleave")})),expectWarning(e,".hover() two-arg",1,(function(){n.hover((function(n){e.equal("mouseenter",n.type,n.type)}),(function(n){e.equal("mouseleave",n.type,n.type)})).trigger("mouseenter").trigger("mouseleave")}))})),QUnit.test("custom ready",(function(e){e.expect(2),jQuery("#qunit-fixture").append("<div id='foo'>bar</div>"),expectNoWarning(e,"Custom ready event not on document",1,(function(){jQuery("#foo").on("ready",(function(){e.ok(!0,"custom ready event was triggered")})).trigger("ready").off("ready")}))})),TestManager.runIframeTest("document ready","event-ready.html",(function(e,n){e.expect(1),e.equal(n.migrateWarnings.length,1,"warnings: "+JSON.stringify(n.migrateWarnings))})),TestManager.runIframeTest("jQuery.event.props.concat","event-props-concat.html",(function(e,n,t,r,i,o){e.expect(3);var a=JSON.stringify(n.migrateWarnings);e.equal(n.migrateWarnings.length,1,"one warning"),e.ok(a.indexOf("props.concat")>=0,"warnings: "+a),e.equal(o[0],"TESTING","used the empty props")})),TestManager.runIframeTest("jQuery.event.props","event-props.html",(function(e,n,t,r,i,o,a){e.expect(2),e.ok(o&&a,"props were processed"),e.equal(n.migrateWarnings.length,2,"warnings: "+JSON.stringify(n.migrateWarnings))})),TestManager.runIframeTest("jQuery.event.fixHooks","event-fixHooks.html",(function(e,n,t,r,i,o,a){e.expect(2),e.ok(o&&a,"hooks were processed"),e.equal(n.migrateWarnings.length,2,"warnings: "+JSON.stringify(n.migrateWarnings))})),TestManager.runIframeTest("Load within a ready handler","event-lateload.html",(function(e,n,t,r,i){e.expect(2),e.equal(n.migrateWarnings.length,1,"warnings: "+JSON.stringify(n.migrateWarnings)),e.ok(/load/.test(n.migrateWarnings[0]),"message ok")}));