QUnit.module("migrate"),QUnit.test("jQuery.migrateVersion",(function(e){e.expect(1),e.ok(/^\d+\.\d+\.[\w\-]+/.test(jQuery.migrateVersion),"Version property")})),QUnit.test("compareVersions and jQueryVersionSince",(function(e){e.expect(9),e.equal(compareVersions("3.0.1","3.0.0"),1,"greater than 1"),e.equal(compareVersions("3.0.1","2.10.0"),1,"greater than 2"),e.equal(compareVersions("3.2.1","3.3.0"),-1,"less than 1"),e.equal(compareVersions("3.2.1","4.1.3"),-1,"less than 2"),e.equal(compareVersions("3.2.2","3.11.1"),-1,"less than 3"),e.equal(compareVersions("3.4.1","3.4.1"),0,"equal"),e.equal(jQueryVersionSince("1.4.2"),!0,"since - past version"),e.equal(jQueryVersionSince("8.0.3"),!1,"since - future version"),e.equal(jQueryVersionSince(jQuery.fn.jquery),!0,"since - equal")})),QUnit.test("jQuery.migrateDeduplicateWarnings",(function(e){e.expect(3);var a=jQuery.migrateDeduplicateWarnings;e.strictEqual(a,!0,"true by default"),jQuery.migrateDeduplicateWarnings=!0,expectWarning(e,"jQuery.migrateDeduplicateWarnings === true",1,(function(){jQuery("#"),jQuery("#")})),jQuery.migrateDeduplicateWarnings=!1,expectWarning(e,"jQuery.migrateDeduplicateWarnings === false",2,(function(){jQuery("#"),jQuery("#")})),jQuery.migrateDeduplicateWarnings=a})),QUnit.test("disabling/enabling patches",(function(e){e.expect(14);var a=jQuery("<div></div>");a.appendTo("#qunit-fixture"),e.strictEqual(jQuery.migrateIsPatchEnabled("size"),!0,"patch enabled by default (size)"),e.strictEqual(jQuery.migrateIsPatchEnabled("parseJSON"),!0,"patch enabled by default (parseJSON)"),e.strictEqual(jQuery.migrateIsPatchEnabled("toggleClass-bool"),!0,"patch enabled by default (toggleClass-bool)"),expectWarning(e,"size (default)",(function(){jQuery().size()})),expectWarning(e,"parseJSON (default)",(function(){jQuery.parseJSON("{}")})),expectWarning(e,"toggleClass-bool (default)",(function(){a.toggleClass()})),jQuery.migrateDisablePatches("size","parseJSON"),e.strictEqual(jQuery.migrateIsPatchEnabled("size"),!1,"patch disabled (size)"),e.strictEqual(jQuery.migrateIsPatchEnabled("parseJSON"),!1,"patch disabled (parseJSON)"),e.strictEqual(jQuery.migrateIsPatchEnabled("toggleClass-bool"),!0,"patch still enabled (toggleClass)"),expectNoWarning(e,"size (disabled)",(function(){jQuery().size()})),expectNoWarning(e,"parseJSON (disabled)",(function(){jQuery.parseJSON("{}")})),expectWarning(e,"toggleClass-bool (still enabled)",(function(){a.toggleClass()})),jQuery.migrateDisablePatches("toggleClass-bool"),e.strictEqual(jQuery.migrateIsPatchEnabled("toggleClass-bool"),!1,"patch disabled (toggleClass)"),expectNoWarning(e,"toggleClass-bool (disabled)",(function(){a.toggleClass()}))}));