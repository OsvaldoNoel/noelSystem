import{migrateWarn,migratePatchAndWarnFunc,migratePatchFunc,migrateWarnProp}from"../main.js";import"../disablePatches.js";var oldLoad=jQuery.fn.load,oldEventAdd=jQuery.event.add,originalFix=jQuery.event.fix;jQuery.event.props=[],jQuery.event.fixHooks={},migrateWarnProp(jQuery.event.props,"concat",jQuery.event.props.concat,"event-old-patch","jQuery.event.props.concat() is deprecated and removed"),migratePatchFunc(jQuery.event,"fix",(function(e){var n,r=e.type,t=this.fixHooks[r],a=jQuery.event.props;if(a.length)for(migrateWarn("event-old-patch","jQuery.event.props are deprecated and removed: "+a.join());a.length;)jQuery.event.addProp(a.pop());if(t&&!t._migrated_&&(t._migrated_=!0,migrateWarn("event-old-patch","jQuery.event.fixHooks are deprecated and removed: "+r),(a=t.props)&&a.length))for(;a.length;)jQuery.event.addProp(a.pop());return n=originalFix.call(this,e),t&&t.filter?t.filter(n,e):n}),"event-old-patch"),migratePatchFunc(jQuery.event,"add",(function(e,n){return e===window&&"load"===n&&"complete"===window.document.readyState&&migrateWarn("load-after-event","jQuery(window).on('load'...) called after load event occurred"),oldEventAdd.apply(this,arguments)}),"load-after-event"),jQuery.each(["load","unload","error"],(function(e,n){migratePatchFunc(jQuery.fn,n,(function(){var e=Array.prototype.slice.call(arguments,0);return"load"===n&&"string"==typeof e[0]?oldLoad.apply(this,e):(migrateWarn("shorthand-removed-v3","jQuery.fn."+n+"() is deprecated"),e.splice(0,0,n),arguments.length?this.on.apply(this,e):(this.triggerHandler.apply(this,e),this))}),"shorthand-removed-v3")})),jQuery.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,n){migratePatchAndWarnFunc(jQuery.fn,n,(function(e,r){return arguments.length>0?this.on(n,null,e,r):this.trigger(n)}),"shorthand-deprecated-v3","jQuery.fn."+n+"() event shorthand is deprecated")})),jQuery((function(){jQuery(window.document).triggerHandler("ready")})),jQuery.event.special.ready={setup:function(){this===window.document&&migrateWarn("ready-event","'ready' event is deprecated")}},migratePatchAndWarnFunc(jQuery.fn,"bind",(function(e,n,r){return this.on(e,null,n,r)}),"pre-on-methods","jQuery.fn.bind() is deprecated"),migratePatchAndWarnFunc(jQuery.fn,"unbind",(function(e,n){return this.off(e,null,n)}),"pre-on-methods","jQuery.fn.unbind() is deprecated"),migratePatchAndWarnFunc(jQuery.fn,"delegate",(function(e,n,r,t){return this.on(n,e,r,t)}),"pre-on-methods","jQuery.fn.delegate() is deprecated"),migratePatchAndWarnFunc(jQuery.fn,"undelegate",(function(e,n,r){return 1===arguments.length?this.off(e,"**"):this.off(n,e||"**",r)}),"pre-on-methods","jQuery.fn.undelegate() is deprecated"),migratePatchAndWarnFunc(jQuery.fn,"hover",(function(e,n){return this.on("mouseenter",e).on("mouseleave",n||e)}),"pre-on-methods","jQuery.fn.hover() is deprecated");