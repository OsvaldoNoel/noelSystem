import{jQueryVersionSince}from"../compareVersions.js";import{migrateWarn,migratePatchAndWarnFunc,migratePatchFunc}from"../main.js";if(jQuery.ajax){var oldAjax=jQuery.ajax,rjsonp=/(=)\?(?=&|$)|\?\?/;migratePatchFunc(jQuery,"ajax",(function(){var e=oldAjax.apply(this,arguments);return e.promise&&(migratePatchAndWarnFunc(e,"success",e.done,"jqXHR-methods","jQXHR.success is deprecated and removed"),migratePatchAndWarnFunc(e,"error",e.fail,"jqXHR-methods","jQXHR.error is deprecated and removed"),migratePatchAndWarnFunc(e,"complete",e.always,"jqXHR-methods","jQXHR.complete is deprecated and removed")),e}),"jqXHR-methods"),jQueryVersionSince("4.0.0")||jQuery.ajaxPrefilter("+json",(function(e){!1!==e.jsonp&&(rjsonp.test(e.url)||"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(e.data))&&migrateWarn("jsonp-promotion","JSON-to-JSONP auto-promotion is deprecated")}))}