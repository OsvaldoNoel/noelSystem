!function(t){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],t):t(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}((function(t,i){"use strict";var e=i.prototype;t.extend(e.options,{indicatorContainer:"ol",activeIndicatorClass:"active",thumbnailProperty:"thumbnail",thumbnailIndicators:!0});var n=e.initSlides,a=e.addSlide,o=e.resetSlides,s=e.handleClick,r=e.handleSlide,d=e.handleClose;return t.extend(e,{createIndicator:function(i){var e,n,a=this.indicatorPrototype.cloneNode(!1),o=this.getItemProperty(i,this.options.titleProperty),s=this.options.thumbnailProperty;return this.options.thumbnailIndicators&&(s&&(e=this.getItemProperty(i,s)),void 0===e&&(n=i.getElementsByTagName&&t(i).find("img")[0])&&(e=n.src),e&&(a.style.backgroundImage='url("'+e+'")')),o&&(a.title=o),a.setAttribute("role","link"),a},addIndicator:function(t){if(this.indicatorContainer.length){var i=this.createIndicator(this.list[t]);i.setAttribute("data-index",t),this.indicatorContainer[0].appendChild(i),this.indicators.push(i)}},setActiveIndicator:function(i){this.indicators&&(this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass),this.activeIndicator=t(this.indicators[i]),this.activeIndicator.addClass(this.options.activeIndicatorClass))},initSlides:function(t){t||(this.indicatorContainer=this.container.find(this.options.indicatorContainer),this.indicatorContainer.length&&(this.indicatorPrototype=document.createElement("li"),this.indicators=this.indicatorContainer[0].children)),n.call(this,t)},addSlide:function(t){a.call(this,t),this.addIndicator(t)},resetSlides:function(){o.call(this),this.indicatorContainer.empty(),this.indicators=[]},handleClick:function(t){var i=t.target||t.srcElement,e=i.parentNode;if(e===this.indicatorContainer[0])this.preventDefault(t),this.slide(this.getNodeIndex(i));else{if(e.parentNode!==this.indicatorContainer[0])return s.call(this,t);this.preventDefault(t),this.slide(this.getNodeIndex(e))}},handleSlide:function(t,i){r.call(this,t,i),this.setActiveIndicator(i)},handleClose:function(){this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass),d.call(this)}}),i}));