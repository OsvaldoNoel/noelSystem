/*! For license information please see buttons.colVis.js.LICENSE.txt */
!function(n){if("function"==typeof define&&define.amd)define(["jquery","datatables.net","datatables.net-buttons"],(function(t){return n(t,window,document)}));else if("object"==typeof exports){var t=require("jquery"),i=function(n,t){t.fn.dataTable||require("datatables.net")(n,t),t.fn.dataTable.Buttons||require("datatables.net-buttons")(n,t)};"undefined"==typeof window?module.exports=function(e,o){return e||(e=window),o||(o=t(e)),i(e,o),n(o,e,e.document)}:(i(window,t),module.exports=n(t,window,window.document))}else n(jQuery,window,document)}((function(n,t,i){"use strict";var e=n.fn.dataTable;return n.extend(e.ext.buttons,{colvis:function(n,t){var i=null,e={extend:"collection",init:function(n,t){i=t},text:function(n){return n.i18n("buttons.colvis","Column visibility")},className:"buttons-colvis",closeButton:!1,buttons:[{extend:"columnsToggle",columns:t.columns,columnText:t.columnText}]};return n.on("column-reorder.dt"+t.namespace,(function(){n.button(null,n.button(null,i).node()).collectionRebuild([{extend:"columnsToggle",columns:t.columns,columnText:t.columnText}])})),e},columnsToggle:function(n,t){return n.columns(t.columns).indexes().map((function(n){return{extend:"columnToggle",columns:n,columnText:t.columnText}})).toArray()},columnToggle:function(n,t){return{extend:"columnVisibility",columns:t.columns,columnText:t.columnText}},columnsVisibility:function(n,t){return n.columns(t.columns).indexes().map((function(n){return{extend:"columnVisibility",columns:n,visibility:t.visibility,columnText:t.columnText}})).toArray()},columnVisibility:{columns:void 0,text:function(n,t,i){return i._columnText(n,i)},className:"buttons-columnVisibility",action:function(n,t,i,e){var o=t.columns(e.columns),u=o.visible();o.visible(void 0!==e.visibility?e.visibility:!(u.length&&u[0]))},init:function(n,t,i){var e=this;t.attr("data-cv-idx",i.columns),n.on("column-visibility.dt"+i.namespace,(function(t,o){o.bDestroying||o.nTable!=n.settings()[0].nTable||e.active(n.column(i.columns).visible())})).on("column-reorder.dt"+i.namespace,(function(){i.destroying||1===n.columns(i.columns).count()&&(e.text(i._columnText(n,i)),e.active(n.column(i.columns).visible()))})),this.active(n.column(i.columns).visible())},destroy:function(n,t,i){n.off("column-visibility.dt"+i.namespace).off("column-reorder.dt"+i.namespace)},_columnText:function(n,t){if("string"==typeof t.text)return t.text;var i=n.column(t.columns).title(),o=n.column(t.columns).index();return i=i.replace(/\n/g," ").replace(/<br\s*\/?>/gi," ").replace(/<select(.*?)<\/select\s*>/gi,""),i=e.Buttons.stripHtmlComments(i),i=e.util.stripHtml(i).trim(),t.columnText?t.columnText(n,o,i):i}},colvisRestore:{className:"buttons-colvisRestore",text:function(n){return n.i18n("buttons.colvisRestore","Restore visibility")},init:function(n,t,i){n.columns().every((function(){var n=this.init();void 0===n.__visOriginal&&(n.__visOriginal=this.visible())}))},action:function(n,t,i,e){t.columns().every((function(n){var t=this.init();this.visible(t.__visOriginal)}))}},colvisGroup:{className:"buttons-colvisGroup",action:function(n,t,i,e){t.columns(e.show).visible(!0,!1),t.columns(e.hide).visible(!1,!1),t.columns.adjust()},show:[],hide:[]}}),e}));