import{setScrollingClassInstantly}from"./lib/class-names";function createEvent(t){if("function"==typeof window.CustomEvent)return new CustomEvent(t);{const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,void 0),e}}export default function(t,e,n,r=!0,o=!1){let c;if("top"===e)c=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==e)throw new Error("A proper axis should be provided");c=["contentWidth","containerWidth","scrollLeft","x","left","right"]}processScrollDiff(t,n,c,r,o)}function processScrollDiff(t,e,[n,r,o,c,s,l],i=!0,a=!1){const p=t.element;t.reach[c]=null,p[o]<1&&(t.reach[c]="start"),p[o]>t[n]-t[r]-1&&(t.reach[c]="end"),e&&(p.dispatchEvent(createEvent(`ps-scroll-${c}`)),e<0?p.dispatchEvent(createEvent(`ps-scroll-${s}`)):e>0&&p.dispatchEvent(createEvent(`ps-scroll-${l}`)),i&&setScrollingClassInstantly(t,c)),t.reach[c]&&(e||a)&&p.dispatchEvent(createEvent(`ps-${c}-reach-${t.reach[c]}`))}