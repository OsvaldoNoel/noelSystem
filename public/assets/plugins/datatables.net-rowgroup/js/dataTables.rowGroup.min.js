/*! For license information please see dataTables.rowGroup.min.js.LICENSE.txt */
!function(t){var r,e;"function"==typeof define&&define.amd?define(["jquery","datatables.net"],(function(r){return t(r,window,document)})):"object"==typeof exports?(r=require("jquery"),e=function(t,r){r.fn.dataTable||require("datatables.net")(t,r)},"undefined"==typeof window?module.exports=function(n,o){return n=n||window,o=o||r(n),e(n,o),t(o,0,n.document)}:(e(window,r),module.exports=t(r,window,window.document))):t(jQuery,window,document)}((function(t,r,e){"use strict";function n(r,e){if(!o.versionCheck||!o.versionCheck("1.11"))throw"RowGroup requires DataTables 1.11 or newer";if(this.c=t.extend(!0,{},o.defaults.rowGroup,n.defaults,e),this.s={dt:new o.Api(r)},this.dom={},r=(e=this.s.dt.settings()[0]).rowGroup)return r;(e.rowGroup=this)._constructor()}var o=t.fn.dataTable;return t.extend(n.prototype,{dataSrc:function(r){var e;return void 0===r?this.c.dataSrc:(e=this.s.dt,this.c.dataSrc=r,t(e.table().node()).triggerHandler("rowgroup-datasrc.dt",[e,r]),this)},disable:function(){return this.c.enable=!1,this},enable:function(t){return!1===t?this.disable():(this.c.enable=!0,this)},enabled:function(){return this.c.enable},_constructor:function(){var t=this,r=this.s.dt,e=r.settings()[0];r.on("draw.dtrg",(function(r,n){t.c.enable&&e===n&&t._draw()})),r.on("column-visibility.dt.dtrg responsive-resize.dt.dtrg",(function(){t._adjustColspan()})),r.on("destroy",(function(){r.off(".dtrg")}))},_adjustColspan:function(){t("tr."+this.c.className,this.s.dt.table().body()).find("th:visible, td:visible").attr("colspan",this._colspan())},_colspan:function(){return this.s.dt.columns().visible().reduce((function(t,r){return t+r}),0)},_draw:function(){var t=this.s.dt;t=this._group(0,t.rows({page:"current"}).indexes());this._groupDisplay(0,t)},_group:function(t,r){for(var e,n=Array.isArray(this.c.dataSrc)?this.c.dataSrc:[this.c.dataSrc],i=o.util.get(n[t]),a=this.s.dt,s=[],d=0,u=r.length;d<u;d++){var c,l=r[d];null==(c=i(a.row(l).data(),t))&&(c=this.c.emptyDataGroup),void 0!==e&&c===e||(s.push({dataPoint:c,rows:[]}),e=c),s[s.length-1].rows.push(l)}if(void 0!==n[t+1])for(d=0,u=s.length;d<u;d++)s[d].children=this._group(t+1,s[d].rows);return s},_groupDisplay:function(t,r){for(var e,n=this.s.dt,o=0,i=r.length;o<i;o++){var a,s=r[o],d=s.dataPoint,u=s.rows;this.c.startRender&&(e=this.c.startRender.call(this,n.rows(u),d,t),a=this._rowWrap(e,this.c.startClassName,t))&&a.insertBefore(n.row(u[0]).node()),this.c.endRender&&(e=this.c.endRender.call(this,n.rows(u),d,t),a=this._rowWrap(e,this.c.endClassName,t))&&a.insertAfter(n.row(u[u.length-1]).node()),s.children&&this._groupDisplay(t+1,s.children)}},_rowWrap:function(r,e,n){return null==(r=null!==r&&""!==r?r:this.c.emptyDataGroup)?null:("object"==typeof r&&r.nodeName&&"tr"===r.nodeName.toLowerCase()?t(r):r instanceof t&&r.length&&"tr"===r[0].nodeName.toLowerCase()?r:t("<tr/>").append(t("<th/>").attr("colspan",this._colspan()).attr("scope","row").append(r))).addClass(this.c.className).addClass(e).addClass("dtrg-level-"+n)}}),n.defaults={className:"dtrg-group",dataSrc:0,emptyDataGroup:"No group",enable:!0,endClassName:"dtrg-end",endRender:null,startClassName:"dtrg-start",startRender:function(t,r){return r}},n.version="1.5.0",t.fn.dataTable.RowGroup=n,t.fn.DataTable.RowGroup=n,o.Api.register("rowGroup()",(function(){return this})),o.Api.register("rowGroup().disable()",(function(){return this.iterator("table",(function(t){t.rowGroup&&t.rowGroup.enable(!1)}))})),o.Api.register("rowGroup().enable()",(function(t){return this.iterator("table",(function(r){r.rowGroup&&r.rowGroup.enable(void 0===t||t)}))})),o.Api.register("rowGroup().enabled()",(function(){var t=this.context;return!(!t.length||!t[0].rowGroup)&&t[0].rowGroup.enabled()})),o.Api.register("rowGroup().dataSrc()",(function(t){return void 0===t?this.context[0].rowGroup.dataSrc():this.iterator("table",(function(r){r.rowGroup&&r.rowGroup.dataSrc(t)}))})),t(e).on("preInit.dt.dtrg",(function(r,e,i){var a,s;"dt"===r.namespace&&(r=e.oInit.rowGroup,a=o.defaults.rowGroup,r||a)&&(s=t.extend({},a,r),!1!==r)&&new n(e,s)})),o}));