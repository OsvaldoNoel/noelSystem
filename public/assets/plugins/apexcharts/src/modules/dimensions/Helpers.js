import Utils from"../../utils/Utils";import Graphics from"../Graphics";export default class Helpers{constructor(t){this.w=t.w,this.dCtx=t}getTitleSubtitleCoords(t){let e=this.w,i=0,l=0;const s="title"===t?e.config.title.floating:e.config.subtitle.floating;let g=e.globals.dom.baseEl.querySelector(`.apexcharts-${t}-text`);if(null!==g&&!s){let t=g.getBoundingClientRect();i=t.width,l=e.globals.axisCharts?t.height+5:t.height}return{width:i,height:l}}getLegendsRect(){let t=this.w,e=t.globals.dom.elLegendWrap;t.config.legend.height||"top"!==t.config.legend.position&&"bottom"!==t.config.legend.position||(e.style.maxHeight=t.globals.svgHeight/2+"px");let i=Object.assign({},Utils.getBoundingClientRect(e));return null!==e&&!t.config.legend.floating&&t.config.legend.show?this.dCtx.lgRect={x:i.x,y:i.y,height:i.height,width:0===i.height?0:i.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},"left"!==t.config.legend.position&&"right"!==t.config.legend.position||1.5*this.dCtx.lgRect.width>t.globals.svgWidth&&(this.dCtx.lgRect.width=t.globals.svgWidth/1.5),this.dCtx.lgRect}getDatalabelsRect(){let t=this.w,e=[];t.config.series.forEach(((l,s)=>{l.data.forEach(((l,g)=>{i=(e=>t.config.dataLabels.formatter(e,{ctx:this.dCtx.ctx,seriesIndex:s,dataPointIndex:g,w:t}))(t.globals.series[s][g]),e.push(i)}))}));let i=Utils.getLargestStringFromArr(e),l=new Graphics(this.dCtx.ctx);const s=t.config.dataLabels.style;let g=l.getTextRects(i,parseInt(s.fontSize),s.fontFamily);return{width:1.05*g.width,height:g.height}}getLargestStringFromMultiArr(t,e){let i=t;if(this.w.globals.isMultiLineX){let t=e.map(((t,e)=>Array.isArray(t)?t.length:1)),l=Math.max(...t);i=e[t.indexOf(l)]}return i}}