import AxesUtils from"../axes/AxesUtils";export default class DimGrid{constructor(t){this.w=t.w,this.dCtx=t}gridPadForColumnsInNumericAxis(t){const i=this.w,s=i.config,e=i.globals;if(e.noData||e.collapsedSeries.length+e.ancillaryCollapsedSeries.length===s.series.length)return 0;const l=t=>"bar"===t||"rangeBar"===t||"candlestick"===t||"boxPlot"===t,a=s.chart.type;let o=0,n=l(a)?s.series.length:1;e.comboBarCount>0&&(n=e.comboBarCount),e.collapsedSeries.forEach((t=>{l(t.type)&&(n-=1)})),s.chart.stacked&&(n=1);const r=l(a)||e.comboBarCount>0;let g=Math.abs(e.initialMaxX-e.initialMinX);if(r&&e.isXNumeric&&!e.isBarHorizontal&&n>0&&0!==g){let i,l=0;g<=3&&(g=e.dataPoints),l=g/t,e.minXDiff&&e.minXDiff/l>0&&(i=e.minXDiff/l),i>t/2&&(i/=2),o=i*parseInt(s.plotOptions.bar.columnWidth,10)/100,o<1&&(o=1),e.barPadForNumericAxis=o}return o}gridPadFortitleSubtitle(){const t=this.w,i=t.globals;let s=this.dCtx.isSparkline||!t.globals.axisCharts?0:10;["title","subtitle"].forEach((i=>{void 0!==t.config[i].text?s+=t.config[i].margin:s+=this.dCtx.isSparkline||!t.globals.axisCharts?0:5})),!t.config.legend.show||"bottom"!==t.config.legend.position||t.config.legend.floating||t.globals.axisCharts||(s+=10);let e=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),l=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");i.gridHeight=i.gridHeight-e.height-l.height-s,i.translateY=i.translateY+e.height+l.height+s}setGridXPosForDualYAxis(t,i){let s=this.w;const e=new AxesUtils(this.dCtx.ctx);s.config.yaxis.map(((l,a)=>{-1!==s.globals.ignoreYAxisIndexes.indexOf(a)||l.floating||e.isYAxisHidden(a)||(l.opposite&&(s.globals.translateX=s.globals.translateX-(i[a].width+t[a].width)-parseInt(s.config.yaxis[a].labels.style.fontSize,10)/1.2-12),s.globals.translateX<2&&(s.globals.translateX=2))}))}}