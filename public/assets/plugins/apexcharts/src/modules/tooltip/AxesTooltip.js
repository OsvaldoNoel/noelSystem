class AxesTooltip{constructor(t){this.w=t.w,this.ttCtx=t}drawXaxisTooltip(){let t=this.w;const i=this.ttCtx,s="bottom"===t.config.xaxis.position;i.xaxisOffY=s?t.globals.gridHeight+1:-t.globals.xAxisHeight-t.config.xaxis.axisTicks.height+3;const o=s?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top";let a=t.globals.dom.elWrap;if(i.isXAxisTooltipEnabled){null===t.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")&&(i.xaxisTooltip=document.createElement("div"),i.xaxisTooltip.setAttribute("class",o+" apexcharts-theme-"+t.config.tooltip.theme),a.appendChild(i.xaxisTooltip),i.xaxisTooltipText=document.createElement("div"),i.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),i.xaxisTooltipText.style.fontFamily=t.config.xaxis.tooltip.style.fontFamily||t.config.chart.fontFamily,i.xaxisTooltipText.style.fontSize=t.config.xaxis.tooltip.style.fontSize,i.xaxisTooltip.appendChild(i.xaxisTooltipText))}}drawYaxisTooltip(){let t=this.w;const i=this.ttCtx;for(let s=0;s<t.config.yaxis.length;s++){const o=t.config.yaxis[s].opposite||t.config.yaxis[s].crosshairs.opposite;i.yaxisOffX=o?t.globals.gridWidth+1:1;let a=o?`apexcharts-yaxistooltip apexcharts-yaxistooltip-${s} apexcharts-yaxistooltip-right`:`apexcharts-yaxistooltip apexcharts-yaxistooltip-${s} apexcharts-yaxistooltip-left`,e=t.globals.dom.elWrap;null===t.globals.dom.baseEl.querySelector(`.apexcharts-yaxistooltip apexcharts-yaxistooltip-${s}`)&&(i.yaxisTooltip=document.createElement("div"),i.yaxisTooltip.setAttribute("class",a+" apexcharts-theme-"+t.config.tooltip.theme),e.appendChild(i.yaxisTooltip),0===s&&(i.yaxisTooltipText=[]),i.yaxisTooltipText[s]=document.createElement("div"),i.yaxisTooltipText[s].classList.add("apexcharts-yaxistooltip-text"),i.yaxisTooltip.appendChild(i.yaxisTooltipText[s]))}}setXCrosshairWidth(){let t=this.w;const i=this.ttCtx,s=i.getElXCrosshairs();if(i.xcrosshairsWidth=parseInt(t.config.xaxis.crosshairs.width,10),t.globals.comboCharts){let s=t.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==s&&"barWidth"===t.config.xaxis.crosshairs.width){let t=parseFloat(s.getAttribute("barWidth"));i.xcrosshairsWidth=t}else if("tickWidth"===t.config.xaxis.crosshairs.width){let s=t.globals.labels.length;i.xcrosshairsWidth=t.globals.gridWidth/s}}else if("tickWidth"===t.config.xaxis.crosshairs.width){let s=t.globals.labels.length;i.xcrosshairsWidth=t.globals.gridWidth/s}else if("barWidth"===t.config.xaxis.crosshairs.width){let s=t.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==s){let t=parseFloat(s.getAttribute("barWidth"));i.xcrosshairsWidth=t}else i.xcrosshairsWidth=1}t.globals.isBarHorizontal&&(i.xcrosshairsWidth=0),null!==s&&i.xcrosshairsWidth>0&&s.setAttribute("width",i.xcrosshairsWidth)}handleYCrosshair(){let t=this.w;const i=this.ttCtx;i.ycrosshairs=t.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),i.ycrosshairsHidden=t.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}drawYaxisTooltipText(t,i,s){const o=this.ttCtx,a=this.w,e=a.globals,l=e.seriesYAxisMap[t];if(o.yaxisTooltips[t]&&l.length>0){const x=e.yLabelFormatters[t],r=o.getElGrid().getBoundingClientRect(),h=l[0];let c=0;s.yRatio.length>1&&(c=h);const p=(i-r.top)*s.yRatio[c],d=e.maxYArr[h]-e.minYArr[h];let n=e.minYArr[h]+(d-p);a.config.yaxis[t].reversed&&(n=e.maxYArr[h]-(d-p)),o.tooltipPosition.moveYCrosshairs(i-r.top),o.yaxisTooltipText[t].innerHTML=x(n),o.tooltipPosition.moveYAxisTooltip(t)}}}export default AxesTooltip;