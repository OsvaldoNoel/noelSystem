window.TreemapSquared={},function(){"use strict";window.TreemapSquared.generate=function(){function t(e,h,i,n){this.xoffset=e,this.yoffset=h,this.height=n,this.width=i,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(t){let e,h=[],i=this.xoffset,n=this.yoffset,r=s(t)/this.height,o=s(t)/this.width;if(this.width>=this.height)for(e=0;e<t.length;e++)h.push([i,n,i+r,n+t[e]/r]),n+=t[e]/r;else for(e=0;e<t.length;e++)h.push([i,n,i+t[e]/o,n+o]),i+=t[e]/o;return h},this.cutArea=function(e){let h;if(this.width>=this.height){let i=e/this.height,n=this.width-i;h=new t(this.xoffset+i,this.yoffset,n,this.height)}else{let i=e/this.width,n=this.height-i;h=new t(this.xoffset,this.yoffset+i,this.width,n)}return h}}function e(e,i,n,r,o){r=void 0===r?0:r,o=void 0===o?0:o;let f=h(function(t,e){let h,i=[],n=e/s(t);for(h=0;h<t.length;h++)i[h]=t[h]*n;return i}(e,i*n),[],new t(r,o,i,n),[]);return function(t){let e,h,i=[];for(e=0;e<t.length;e++)for(h=0;h<t[e].length;h++)i.push(t[e][h]);return i}(f)}function h(t,e,n,r){let o,f,u;if(0!==t.length)return o=n.shortestEdge(),f=t[0],!function(t,e,h){let n;if(0===t.length)return!0;n=t.slice(),n.push(e);let s=i(t,h),r=i(n,h);return s>=r}(e,f,o)?(u=n.cutArea(s(e),r),r.push(n.getCoordinates(e)),h(t,[],u,r)):(e.push(f),h(t.slice(1),e,n,r)),r;r.push(n.getCoordinates(e))}function i(t,e){let h=Math.min.apply(Math,t),i=Math.max.apply(Math,t),n=s(t);return Math.max(Math.pow(e,2)*i/Math.pow(n,2),Math.pow(n,2)/(Math.pow(e,2)*h))}function n(t){return t&&t.constructor===Array}function s(t){let e,h=0;for(e=0;e<t.length;e++)h+=t[e];return h}function r(t){let e,h=0;if(n(t[0]))for(e=0;e<t.length;e++)h+=r(t[e]);else h=s(t);return h}return function t(h,i,s,o,f){o=void 0===o?0:o,f=void 0===f?0:f;let u,l,a=[],g=[];if(n(h[0])){for(l=0;l<h.length;l++)a[l]=r(h[l]);for(u=e(a,i,s,o,f),l=0;l<h.length;l++)g.push(t(h[l],u[l][2]-u[l][0],u[l][3]-u[l][1],u[l][0],u[l][1]))}else g=e(h,i,s,o,f);return g}}()}();