/*! For license information please see dataTables.fixedHeader.js.LICENSE.txt */
!function(t){if("function"==typeof define&&define.amd)define(["jquery","datatables.net"],(function(e){return t(e,window,document)}));else if("object"==typeof exports){var e=require("jquery"),o=function(t,e){e.fn.dataTable||require("datatables.net")(t,e)};"undefined"==typeof window?module.exports=function(i,s){return i||(i=window),s||(s=e(i)),o(i,s),t(s,i,i.document)}:(o(window,e),module.exports=t(e,window,window.document))}else t(jQuery,window,document)}((function(t,e,o){"use strict";var i=t.fn.dataTable,s=0,r=function(o,d){if(!i.versionCheck("2"))throw"Warning: FixedHeader requires DataTables 2 or newer";if(!(this instanceof r))throw"FixedHeader must be initialised with the 'new' keyword.";!0===d&&(d={}),o=new i.Api(o),this.c=t.extend(!0,{},r.defaults,d),this.s={dt:o,position:{theadTop:0,tbodyTop:0,tfootTop:0,tfootBottom:0,width:0,left:0,tfootHeight:0,theadHeight:0,windowHeight:t(e).height(),visible:!0},headerMode:null,footerMode:null,autoWidth:o.settings()[0].oFeatures.bAutoWidth,namespace:".dtfc"+s++,scrollLeft:{header:-1,footer:-1},enable:!0,autoDisable:!1},this.dom={floatingHeader:null,thead:t(o.table().header()),tbody:t(o.table().body()),tfoot:t(o.table().footer()),header:{host:null,floating:null,floatingParent:t('<div class="dtfh-floatingparent"><div></div></div>'),placeholder:null},footer:{host:null,floating:null,floatingParent:t('<div class="dtfh-floatingparent"><div></div></div>'),placeholder:null}},this.dom.header.host=this.dom.thead.parent(),this.dom.footer.host=this.dom.tfoot.parent();var n=o.settings()[0];if(n._fixedHeader)throw"FixedHeader already initialised on table "+n.nTable.id;n._fixedHeader=this,this._constructor()};return t.extend(r.prototype,{destroy:function(){var o=this.dom;this.s.dt.off(".dtfc"),t(e).off(this.s.namespace),o.header.rightBlocker&&o.header.rightBlocker.remove(),o.header.leftBlocker&&o.header.leftBlocker.remove(),o.footer.rightBlocker&&o.footer.rightBlocker.remove(),o.footer.leftBlocker&&o.footer.leftBlocker.remove(),this.c.header&&this._modeChange("in-place","header",!0),this.c.footer&&o.tfoot.length&&this._modeChange("in-place","footer",!0)},enable:function(t,e,o){this.s.enable=t,this.s.enableType=o,(e||void 0===e)&&(this._positions(),this._scroll(!0))},enabled:function(){return this.s.enable},headerOffset:function(t){return void 0!==t&&(this.c.headerOffset=t,this.update()),this.c.headerOffset},footerOffset:function(t){return void 0!==t&&(this.c.footerOffset=t,this.update()),this.c.footerOffset},update:function(e){var o=this.s.dt.table().node();(this.s.enable||this.s.autoDisable)&&(t(o).is(":visible")?(this.s.autoDisable=!1,this.enable(!0,!1)):(this.s.autoDisable=!0,this.enable(!1,!1)),0!==t(o).children("thead").length&&(this._positions(),this._scroll(void 0===e||e),this._widths(this.dom.header),this._widths(this.dom.footer)))},_constructor:function(){var o=this,s=this.s.dt;t(e).on("scroll"+this.s.namespace,(function(){o._scroll()})).on("resize"+this.s.namespace,i.util.throttle((function(){o.s.position.windowHeight=t(e).height(),o.update()}),50));var r=t(".fh-fixedHeader");!this.c.headerOffset&&r.length&&(this.c.headerOffset=r.outerHeight());var d=t(".fh-fixedFooter");!this.c.footerOffset&&d.length&&(this.c.footerOffset=d.outerHeight()),s.on("column-reorder.dt.dtfc column-visibility.dt.dtfc column-sizing.dt.dtfc responsive-display.dt.dtfc",(function(t,e){o.update()})).on("draw.dt.dtfc",(function(t,e){o.update(e!==s.settings()[0])})),s.on("destroy.dtfc",(function(){o.destroy()})),this._positions(),this._scroll()},_clone:function(e,o){var i=this,s=this.s.dt,r=this.dom[e],d="header"===e?this.dom.thead:this.dom.tfoot;if("footer"!==e||!this._scrollEnabled())if(!o&&r.floating)r.floating.removeClass("fixedHeader-floating fixedHeader-locked");else{r.floating&&(null!==r.placeholder&&r.placeholder.remove(),r.floating.children().detach(),r.floating.remove());var n=t(s.table().node()),a=t(n.parent()),f=this._scrollEnabled();r.floating=t(s.table().node().cloneNode(!1)).attr("aria-hidden","true").css({top:0,left:0}).removeAttr("id"),r.floatingParent.css({width:a[0].offsetWidth,overflow:"hidden",height:"fit-content",position:"fixed",left:f?n.offset().left+a.scrollLeft():0}).css("header"===e?{top:this.c.headerOffset,bottom:""}:{top:"",bottom:this.c.footerOffset}).addClass("footer"===e?"dtfh-floatingparent-foot":"dtfh-floatingparent-head").appendTo("body").children().eq(0).append(r.floating),this._stickyPosition(r.floating,"-");var h=function(){var t=a.scrollLeft();i.s.scrollLeft={footer:t,header:t},r.floatingParent.scrollLeft(i.s.scrollLeft.header)};h(),a.off("scroll.dtfh").on("scroll.dtfh",h),r.floatingParent.children().css({width:"fit-content",paddingRight:i.s.dt.settings()[0].oBrowser.barWidth});let o=t("footer"===e?"div.dtfc-bottom-blocker":"div.dtfc-top-blocker",s.table().container());o.length&&o.clone().appendTo(r.floatingParent).css({position:"fixed",right:o.width()}),r.placeholder=d.clone(!1),r.placeholder.find("*[id]").removeAttr("id"),r.host.prepend(r.placeholder),r.floating.append(d),this._widths(r)}},_stickyPosition:function(e,o){if(this._scrollEnabled()){var i="rtl"===t(this.s.dt.table().node()).css("direction");e.find("th").each((function(){if("sticky"===t(this).css("position")){var e,o=t(this).css("right"),s=t(this).css("left");"auto"===o||i?"auto"!==s&&i&&(e=+s.replace(/px/g,""),t(this).css("left",e>0?e:0)):(e=+o.replace(/px/g,""),t(this).css("right",e>0?e:0))}}))}},_horizontal:function(e,o){var i=this.dom[e],s=this.s.scrollLeft;if(i.floating&&s[e]!==o){if(this._scrollEnabled()){var r=t(t(this.s.dt.table().node()).parent()).scrollLeft();i.floating.scrollLeft(r),i.floatingParent.scrollLeft(r)}s[e]=o}},_modeChange:function(i,s,r){var d=this.dom[s],n=this.s.position,a=this._scrollEnabled();if("footer"!==s||!a){var f=function(t){d.floating[0].style.setProperty("width",t+"px","important"),a||d.floatingParent[0].style.setProperty("width",t+"px","important")},h=this.dom["footer"===s?"tfoot":"thead"],l=t.contains(h[0],o.activeElement)?o.activeElement:null,c=t(t(this.s.dt.table().node()).parent());if("in-place"===i)d.placeholder&&(d.placeholder.remove(),d.placeholder=null),"header"===s?d.host.prepend(h):d.host.append(h),d.floating&&(d.floating.remove(),d.floating=null,this._stickyPosition(d.host,"+")),d.floatingParent&&(d.floatingParent.find("div.dtfc-top-blocker").remove(),d.floatingParent.remove()),t(t(d.host.parent()).parent()).scrollLeft(c.scrollLeft());else if("in"===i){this._clone(s,r);var p,g=c.offset(),u=t(o).scrollTop(),b=u+t(e).height(),m=a?g.top:n.tbodyTop,v=a?g.top+c.outerHeight():n.tfootTop;p="footer"===s?m>b?n.tfootHeight:m+n.tfootHeight-b:u+this.c.headerOffset+n.theadHeight-v;var H="header"===s?"top":"bottom",x=this.c[s+"Offset"]-(p>0?p:0);d.floating.addClass("fixedHeader-floating"),d.floatingParent.css(H,x).css({left:n.left,"z-index":3}),f(n.width),"footer"===s&&d.floating.css("top","")}else"below"===i?(this._clone(s,r),d.floating.addClass("fixedHeader-locked"),d.floatingParent.css({position:"absolute",top:n.tfootTop-n.theadHeight,left:n.left+"px"}),f(n.width)):"above"===i&&(this._clone(s,r),d.floating.addClass("fixedHeader-locked"),d.floatingParent.css({position:"absolute",top:n.tbodyTop,left:n.left+"px"}),f(n.width));l&&l!==o.activeElement&&setTimeout((function(){l.focus()}),10),this.s.scrollLeft.header=-1,this.s.scrollLeft.footer=-1,this.s[s+"Mode"]=i}},_positions:function(){var e=this.s.dt,o=e.table(),i=this.s.position,s=this.dom,r=t(o.node()),d=this._scrollEnabled(),n=t(e.table().header()),a=t(e.table().footer()),f=s.tbody,h=r.parent();i.visible=r.is(":visible"),i.width=r.outerWidth(),i.left=r.offset().left,i.theadTop=n.offset().top,i.tbodyTop=d?h.offset().top:f.offset().top,i.tbodyHeight=d?h.outerHeight():f.outerHeight(),i.theadHeight=n.outerHeight(),i.theadBottom=i.theadTop+i.theadHeight,i.tfootTop=i.tbodyTop+i.tbodyHeight,a.length?(i.tfootBottom=i.tfootTop+a.outerHeight(),i.tfootHeight=a.outerHeight()):(i.tfootBottom=i.tfootTop,i.tfootHeight=0)},_scroll:function(i){if(!this.s.dt.settings()[0].bDestroying){var s,r,d=this._scrollEnabled(),n=t(this.s.dt.table().node()).parent(),a=n.offset(),f=n.outerHeight(),h=t(o).scrollLeft(),l=t(o).scrollTop(),c=t(e).height()+l,p=this.s.position,g=d?a.top:p.tbodyTop,u=d?a.left:p.left,b=d?a.top+f:p.tfootTop,m=d?n.outerWidth():p.tbodyWidth;this.c.header&&(this.s.enable?!p.visible||l+this.c.headerOffset+p.theadHeight<=g?s="in-place":l+this.c.headerOffset+p.theadHeight>g&&l+this.c.headerOffset+p.theadHeight<b?(s="in",l+this.c.headerOffset+p.theadHeight>b||void 0===this.dom.header.floatingParent?i=!0:this.dom.header.floatingParent.css({top:this.c.headerOffset,position:"fixed"}).children().eq(0).append(this.dom.header.floating)):s="below":s="in-place",(i||s!==this.s.headerMode)&&this._modeChange(s,"header",i),this._horizontal("header",h));var v={offset:{top:0,left:0},height:0},H={offset:{top:0,left:0},height:0};if(this.c.footer&&this.dom.tfoot.length&&this.dom.tfoot.find("th, td").length){this.s.enable?!p.visible||p.tfootBottom+this.c.footerOffset<=c?r="in-place":b+p.tfootHeight+this.c.footerOffset>c&&g+this.c.footerOffset<c?(r="in",i=!0):r="above":r="in-place",(i||r!==this.s.footerMode)&&this._modeChange(r,"footer",i),this._horizontal("footer",h);var x=function(t){return{offset:t.offset(),height:t.outerHeight()}};if(v=this.dom.header.floating?x(this.dom.header.floating):x(this.dom.thead),H=this.dom.footer.floating?x(this.dom.footer.floating):x(this.dom.tfoot),d&&H.offset.top>l){var w=l-a.top,_=c+(w>-v.height?w:0)-(v.offset.top+(w<-v.height?v.height:0)+H.height);_<0&&(_=0),n.outerHeight(_),Math.round(n.outerHeight())>=Math.round(_)?t(this.dom.tfoot.parent()).addClass("fixedHeader-floating"):t(this.dom.tfoot.parent()).removeClass("fixedHeader-floating")}}if(this.dom.header.floating&&this.dom.header.floatingParent.css("left",u-h),this.dom.footer.floating&&this.dom.footer.floatingParent.css("left",u-h),void 0!==this.s.dt.settings()[0]._fixedColumns){var y=function(e,o,i){if(void 0===i){var r=t("div.dtfc-"+e+"-"+o+"-blocker");i=0===r.length?null:r.clone().css("z-index",1)}return null!==i&&("in"===s||"below"===s?i.appendTo("body").css({top:"top"===o?v.offset.top:H.offset.top,left:"right"===e?u+m-i.width():u}):i.detach()),i};this.dom.header.rightBlocker=y("right","top",this.dom.header.rightBlocker),this.dom.header.leftBlocker=y("left","top",this.dom.header.leftBlocker),this.dom.footer.rightBlocker=y("right","bottom",this.dom.footer.rightBlocker),this.dom.footer.leftBlocker=y("left","bottom",this.dom.footer.leftBlocker)}}},_scrollEnabled:function(){var t=this.s.dt.settings()[0].oScroll;return""!==t.sY||""!==t.sX},_widths:function(e){if(e&&e.placeholder){var o=t(this.s.dt.table().node()),i=t(o.parent());e.floatingParent.css("width",i[0].offsetWidth),e.floating.css("width",o[0].offsetWidth),t("colgroup",e.floating).remove();for(var s=e.placeholder.parent().find("colgroup").clone().appendTo(e.floating).find("col"),r=this.s.dt.columns(":visible").widths(),d=0;d<r.length;d++)s.eq(d).css("width",r[d])}}}),r.version="4.0.1",r.defaults={header:!0,footer:!1,headerOffset:0,footerOffset:0},t.fn.dataTable.FixedHeader=r,t.fn.DataTable.FixedHeader=r,t(o).on("init.dt.dtfh",(function(e,o,s){if("dt"===e.namespace){var d=o.oInit.fixedHeader,n=i.defaults.fixedHeader;if((d||n)&&!o._fixedHeader){var a=t.extend({},n,d);!1!==d&&new r(o,a)}}})),i.Api.register("fixedHeader()",(function(){})),i.Api.register("fixedHeader.adjust()",(function(){return this.iterator("table",(function(t){var e=t._fixedHeader;e&&e.update()}))})),i.Api.register("fixedHeader.enable()",(function(t){return this.iterator("table",(function(e){var o=e._fixedHeader;t=void 0===t||t,o&&t!==o.enabled()&&o.enable(t)}))})),i.Api.register("fixedHeader.enabled()",(function(){if(this.context.length){var t=this.context[0]._fixedHeader;if(t)return t.enabled()}return!1})),i.Api.register("fixedHeader.disable()",(function(){return this.iterator("table",(function(t){var e=t._fixedHeader;e&&e.enabled()&&e.enable(!1)}))})),t.each(["header","footer"],(function(t,e){i.Api.register("fixedHeader."+e+"Offset()",(function(t){var o=this.context;return void 0===t?o.length&&o[0]._fixedHeader?o[0]._fixedHeader[e+"Offset"]():void 0:this.iterator("table",(function(o){var i=o._fixedHeader;i&&i[e+"Offset"](t)}))}))})),i}));