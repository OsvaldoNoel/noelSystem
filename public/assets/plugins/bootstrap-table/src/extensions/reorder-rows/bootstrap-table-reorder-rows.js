const rowAttr=(t,o)=>({id:`customId_${o}`});Object.assign($.fn.bootstrapTable.defaults,{reorderableRows:!1,onDragStyle:null,onDropStyle:null,onDragClass:"reorder-rows-on-drag-class",dragHandle:">tbody>tr>td:not(.bs-checkbox)",useRowAttrFunc:!1,onReorderRowsDrag:t=>!1,onReorderRowsDrop:t=>!1,onReorderRow:t=>!1,onDragStop(){},onAllowDrop:()=>!0}),Object.assign($.fn.bootstrapTable.events,{"reorder-row.bs.table":"onReorderRow"}),$.BootstrapTable=class extends $.BootstrapTable{init(...t){if(!this.options.reorderableRows)return void super.init(...t);this.options.useRowAttrFunc&&(this.options.rowAttributes=rowAttr);const o=this.options.onPostBody;this.options.onPostBody=()=>{setTimeout((()=>{this.makeRowsReorderable(),o.call(this.options,this.options.data)}),1)},super.init(...t)}makeRowsReorderable(){this.$el.tableDnD({onDragStyle:this.options.onDragStyle,onDropStyle:this.options.onDropStyle,onDragClass:this.options.onDragClass,onAllowDrop:(t,o)=>this.onAllowDrop(t,o),onDragStop:(t,o)=>this.onDragStop(t,o),onDragStart:(t,o)=>this.onDropStart(t,o),onDrop:(t,o)=>this.onDrop(t,o),dragHandle:this.options.dragHandle})}onDropStart(t,o){this.$draggingTd=$(o).css("cursor","move"),this.draggingIndex=$(this.$draggingTd.parent()).data("index"),this.options.onReorderRowsDrag(this.data[this.draggingIndex])}onDragStop(t,o){const s=$(o).data("index"),i=this.data[s];this.options.onDragStop(t,i,o)}onAllowDrop(t,o){const s=$(o).data("index"),i=$(t).data("index"),r=this.data[s],n=this.data[i];return this.options.onAllowDrop(n,r,t,o)}onDrop(t){this.$draggingTd.css("cursor","");const o=this.options.pageNumber,s=this.options.pageSize,i=[];for(let o=0;o<t.tBodies[0].rows.length;o++){const s=$(t.tBodies[0].rows[o]);i.push(this.data[s.data("index")]),s.data("index",o)}const r=this.data[this.draggingIndex],n=i.indexOf(this.data[this.draggingIndex]),a=this.data[n],e=(o-1)*s+this.options.data.indexOf(this.data[n]);this.options.data.splice(this.options.data.indexOf(r),1),this.options.data.splice(e,0,r),this.initSearch(),"server"===this.options.sidePagination&&(this.data=[...this.options.data]),this.options.onReorderRowsDrop(a),this.trigger("reorder-row",i,r,a)}initSearch(){this.ignoreInitSort=!0,super.initSearch()}initSort(){this.ignoreInitSort?this.ignoreInitSort=!1:super.initSort()}};