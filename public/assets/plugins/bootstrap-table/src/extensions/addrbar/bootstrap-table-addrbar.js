Object.assign($.fn.bootstrapTable.defaults,{addrbar:!1,addrPrefix:""}),$.BootstrapTable=class extends $.BootstrapTable{init(...t){this.options.pagination&&this.options.addrbar&&this.initAddrbar(),super.init(...t)}getDefaultOptionValue(t,s){return this.options[t]!==$.BootstrapTable.DEFAULTS[t]?this.options[t]:this.searchParams.get(`${this.options.addrPrefix||""}${s}`)||$.BootstrapTable.DEFAULTS[t]}initAddrbar(){this.addrbarInit=!0,this.searchParams=new URLSearchParams(window.location.search.substring(1)),this.options.pageNumber=+this.getDefaultOptionValue("pageNumber","page"),this.options.pageSize=+this.getDefaultOptionValue("pageSize","size"),this.options.sortOrder=this.getDefaultOptionValue("sortOrder","order"),this.options.sortName=this.getDefaultOptionValue("sortName","sort"),this.options.searchText=this.getDefaultOptionValue("searchText","search");const t=this.options.addrPrefix||"",s=this.options.onLoadSuccess,e=this.options.onPageChange;this.options.onLoadSuccess=e=>{this.addrbarInit?this.addrbarInit=!1:this.updateHistoryState(t),s&&s.call(this,e)},this.options.onPageChange=(s,i)=>{this.updateHistoryState(t),e&&e.call(this,s,i)}}updateHistoryState(t){const s={};s[`${t}page`]=this.options.pageNumber,s[`${t}size`]=this.options.pageSize,s[`${t}order`]=this.options.sortOrder,s[`${t}sort`]=this.options.sortName,s[`${t}search`]=this.options.searchText;for(const[t,e]of Object.entries(s))void 0===e?this.searchParams.delete(t):this.searchParams.set(t,e);let e=`?${this.searchParams.toString()}`;location.hash&&(e+=location.hash),window.history.pushState({},"",e)}resetSearch(t){super.resetSearch(t),this.options.searchText=t||""}};