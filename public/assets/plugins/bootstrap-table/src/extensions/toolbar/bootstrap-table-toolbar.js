const Utils=$.fn.bootstrapTable.utils,theme={bootstrap3:{icons:{advancedSearchIcon:"glyphicon-chevron-down"},classes:{},html:{modal:'\n        <div id="avdSearchModal_%s" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">\n          <div class="modal-dialog modal-xs">\n            <div class="modal-content">\n              <div class="modal-header">\n                <button class="close toolbar-modal-close" data-dismiss="modal" aria-label="Close">\n                  <span aria-hidden="true">&times;</span>\n                </button>\n                <h4 class="modal-title toolbar-modal-title"></h4>\n              </div>\n              <div class="modal-body toolbar-modal-body"></div>\n              <div class="modal-footer toolbar-modal-footer">\n                <button class="btn btn-%s toolbar-modal-close"></button>\n              </div>\n            </div>\n          </div>\n        </div>\n      '}},bootstrap4:{icons:{advancedSearchIcon:"fa-chevron-down"},classes:{},html:{modal:'\n        <div id="avdSearchModal_%s" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">\n          <div class="modal-dialog modal-xs">\n            <div class="modal-content">\n              <div class="modal-header">\n                <h4 class="modal-title toolbar-modal-title"></h4>\n                <button class="close toolbar-modal-close" data-dismiss="modal" aria-label="Close">\n                  <span aria-hidden="true">&times;</span>\n                </button>\n              </div>\n              <div class="modal-body toolbar-modal-body"></div>\n              <div class="modal-footer toolbar-modal-footer">\n                <button class="btn btn-%s toolbar-modal-close"></button>\n              </div>\n            </div>\n          </div>\n        </div>\n      '}},bootstrap5:{icons:{advancedSearchIcon:"bi-chevron-down"},classes:{formGroup:"mb-3"},html:{modal:'\n        <div id="avdSearchModal_%s" class="modal fade" tabindex="-1" aria-hidden="true">\n          <div class="modal-dialog modal-xs">\n            <div class="modal-content">\n              <div class="modal-header">\n                <h5 class="modal-title toolbar-modal-title"></h5>\n                <button class="btn-close toolbar-modal-close" data-bs-dismiss="modal" aria-label="Close"></button>\n              </div>\n              <div class="modal-body toolbar-modal-body"></div>\n              <div class="modal-footer toolbar-modal-footer">\n                <button class="btn btn-%s toolbar-modal-close"></button>\n              </div>\n            </div>\n          </div>\n        </div>\n      '}},bulma:{icons:{advancedSearchIcon:"fa-chevron-down"},classes:{},html:{modal:'\n        <div class="modal" id="avdSearchModal_%s">\n          <div class="modal-background"></div>\n          <div class="modal-card">\n            <header class="modal-card-head">\n              <p class="modal-card-title toolbar-modal-title"></p>\n              <button class="delete toolbar-modal-close"></button>\n            </header>\n            <section class="modal-card-body toolbar-modal-body"></section>\n            <footer class="modal-card-foot toolbar-modal-footer">\n              <button class="button button-%s toolbar-modal-close"></button>\n            </footer>\n          </div>\n        </div>\n      '}},foundation:{icons:{advancedSearchIcon:"fa-chevron-down"},classes:{},html:{modal:'\n        <div class="reveal" id="avdSearchModal_%s" data-reveal>\n          <h1 class="toolbar-modal-title"></h1>\n          <div class="toolbar-modal-body"></div>\n          <button class="close-button toolbar-modal-close" data-close aria-label="Close modal">\n            <span aria-hidden="true">&times;</span>\n          </button>\n          <div class="toolbar-modal-footer">\n            <button class="button button-%s toolbar-modal-close"></button>\n          </div>\n        </div>\n      '}},materialize:{icons:{advancedSearchIcon:"expand_more"},classes:{},html:{modal:'\n        <div id="avdSearchModal_%s" class="modal">\n          <div class="modal-content">\n            <h4 class="toolbar-modal-title"></h4>\n            <div class="toolbar-modal-body"></div>\n          </div>\n          <div class="modal-footer toolbar-modal-footer">\n            <a href="javascript:void(0)" class="modal-close waves-effect waves-green btn-flat btn-%s toolbar-modal-close"></a>\n          </div>\n        </div>\n      '}},semantic:{icons:{advancedSearchIcon:"fa-chevron-down"},classes:{},html:{modal:'\n        <div class="ui modal" id="avdSearchModal_%s">\n          <i class="close icon toolbar-modal-close"></i>\n          <div class="header toolbar-modal-title""></div>\n          <div class="image content ui form toolbar-modal-body"></div>\n          <div class="actions toolbar-modal-footer">\n            <div class="ui black deny button button-%s toolbar-modal-close"></div>\n          </div>\n        </div>\n      '}}}[$.fn.bootstrapTable.theme];Object.assign($.fn.bootstrapTable.defaults,{advancedSearch:!1,idForm:"advancedSearch",actionForm:"",idTable:void 0,onColumnAdvancedSearch:(o,a)=>!1}),Object.assign($.fn.bootstrapTable.defaults.icons,{advancedSearchIcon:theme.icons.advancedSearchIcon}),Object.assign($.fn.bootstrapTable.events,{"column-advanced-search.bs.table":"onColumnAdvancedSearch"}),Object.assign($.fn.bootstrapTable.locales,{formatAdvancedSearch:()=>"Advanced search",formatAdvancedCloseButton:()=>"Close"}),Object.assign($.fn.bootstrapTable.defaults,$.fn.bootstrapTable.locales),$.BootstrapTable=class extends $.BootstrapTable{initToolbar(){this.showToolbar=this.showToolbar||this.options.search&&this.options.advancedSearch&&this.options.idTable,this.showToolbar&&(this.buttons=Object.assign(this.buttons,{advancedSearch:{text:this.options.formatAdvancedSearch(),icon:this.options.icons.advancedSearchIcon,event:this.showAdvancedSearch,attributes:{"aria-label":this.options.formatAdvancedSearch(),title:this.options.formatAdvancedSearch()}}}),Utils.isEmptyObject(this.filterColumnsPartial)&&(this.filterColumnsPartial={})),super.initToolbar()}showAdvancedSearch(){this.$toolbarModal=$(`#avdSearchModal_${this.options.idTable}`),this.$toolbarModal.length<=0&&($("body").append(Utils.sprintf(theme.html.modal,this.options.idTable,this.options.buttonsClass)),this.$toolbarModal=$(`#avdSearchModal_${this.options.idTable}`),this.$toolbarModal.find(".toolbar-modal-close").off("click").on("click",(()=>this.hideToolbarModal()))),this.initToolbarModalBody(),this.showToolbarModal()}initToolbarModalBody(){this.$toolbarModal.find(".toolbar-modal-title").html(this.options.formatAdvancedSearch()),this.$toolbarModal.find(".toolbar-modal-footer .toolbar-modal-close").html(this.options.formatAdvancedCloseButton()),this.$toolbarModal.find(".toolbar-modal-body").html(this.createToolbarForm()).off("keyup blur","input").on("keyup blur","input",(o=>{this.onColumnAdvancedSearch(o)}))}showToolbarModal(){const o=$.fn.bootstrapTable.theme;["bootstrap3","bootstrap4"].includes(o)?this.$toolbarModal.modal():"bootstrap5"===o?(this.toolbarModal||(this.toolbarModal=new window.bootstrap.Modal(this.$toolbarModal[0],{})),this.toolbarModal.show()):"bulma"===o?this.$toolbarModal.toggleClass("is-active"):"foundation"===o?(this.toolbarModal||(this.toolbarModal=new window.Foundation.Reveal(this.$toolbarModal)),this.toolbarModal.open()):"materialize"===o?this.$toolbarModal.modal().modal("open"):"semantic"===o&&this.$toolbarModal.modal("show")}hideToolbarModal(){const o=$.fn.bootstrapTable.theme;["bootstrap3","bootstrap4"].includes(o)?this.$toolbarModal.modal("hide"):"bootstrap5"===o?this.toolbarModal.hide():"bulma"===o?($("html").toggleClass("is-clipped"),this.$toolbarModal.toggleClass("is-active")):"foundation"===o?this.toolbarModal.close():"materialize"===o?this.$toolbarModal.modal("open"):"semantic"===o&&this.$toolbarModal.modal("close"),"server"===this.options.sidePagination&&(this.options.pageNumber=1,this.updatePagination(),this.trigger("column-advanced-search",this.filterColumnsPartial))}createToolbarForm(){const o=[`<form class="form-horizontal toolbar-model-form" action="${this.options.actionForm}">`];for(const a of this.columns)if(!a.checkbox&&a.visible&&a.searchable){const t=$("<div/>").html(a.title).text().trim(),l=this.filterColumnsPartial[a.field]||"";o.push(`\n          <div class="form-group row ${theme.classes.formGroup||""}">\n            <label class="col-sm-4 control-label">${t}</label>\n            <div class="col-sm-6">\n              <input type="text" class="form-control ${this.constants.classes.input}"\n                name="${a.field}" placeholder="${t}" value="${l}">\n            </div>\n          </div>\n        `)}return o.push("</form>"),o.join("")}initSearch(){if(super.initSearch(),!this.options.advancedSearch||"server"===this.options.sidePagination)return;const o=Utils.isEmptyObject(this.filterColumnsPartial)?null:this.filterColumnsPartial;this.data=o?this.data.filter(((a,t)=>{for(const[l,s]of Object.entries(o)){const o=s.toLowerCase();let d=a[l];const e=this.header.fields.indexOf(l);if(d=Utils.calculateObjectValue(this.header,this.header.formatters[e],[d,a,t],d),-1===e||"string"!=typeof d&&"number"!=typeof d||!`${d}`.toLowerCase().includes(o))return!1}return!0})):this.data,this.unsortedData=[...this.data]}onColumnAdvancedSearch(o){const a=$(o.currentTarget).val().trim(),t=$(o.currentTarget).attr("name");a?this.filterColumnsPartial[t]=a:delete this.filterColumnsPartial[t],"server"!==this.options.sidePagination&&(this.options.pageNumber=1,this.initSearch(),this.updatePagination(),this.trigger("column-advanced-search",t,a))}};