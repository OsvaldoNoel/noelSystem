export default{getBootstrapVersion(){let t=5;try{const e=$.fn.dropdown.Constructor.VERSION;void 0!==e&&(t=parseInt(e,10))}catch(t){}try{const e=bootstrap.Tooltip.VERSION;void 0!==e&&(t=parseInt(e,10))}catch(t){}return t},getIconsPrefix:t=>({bootstrap3:"glyphicon",bootstrap4:"fa",bootstrap5:"bi","bootstrap-table":"icon",bulma:"fa",foundation:"fa",materialize:"material-icons",semantic:"fa"}[t]||"fa"),getIcons:t=>({glyphicon:{paginationSwitchDown:"glyphicon-collapse-down icon-chevron-down",paginationSwitchUp:"glyphicon-collapse-up icon-chevron-up",refresh:"glyphicon-refresh icon-refresh",toggleOff:"glyphicon-list-alt icon-list-alt",toggleOn:"glyphicon-list-alt icon-list-alt",columns:"glyphicon-th icon-th",detailOpen:"glyphicon-plus icon-plus",detailClose:"glyphicon-minus icon-minus",fullscreen:"glyphicon-fullscreen",search:"glyphicon-search",clearSearch:"glyphicon-trash"},fa:{paginationSwitchDown:"fa-caret-square-down",paginationSwitchUp:"fa-caret-square-up",refresh:"fa-sync",toggleOff:"fa-toggle-off",toggleOn:"fa-toggle-on",columns:"fa-th-list",detailOpen:"fa-plus",detailClose:"fa-minus",fullscreen:"fa-arrows-alt",search:"fa-search",clearSearch:"fa-trash"},bi:{paginationSwitchDown:"bi-caret-down-square",paginationSwitchUp:"bi-caret-up-square",refresh:"bi-arrow-clockwise",toggleOff:"bi-toggle-off",toggleOn:"bi-toggle-on",columns:"bi-list-ul",detailOpen:"bi-plus",detailClose:"bi-dash",fullscreen:"bi-arrows-move",search:"bi-search",clearSearch:"bi-trash"},icon:{paginationSwitchDown:"icon-arrow-up-circle",paginationSwitchUp:"icon-arrow-down-circle",refresh:"icon-refresh-cw",toggleOff:"icon-toggle-right",toggleOn:"icon-toggle-right",columns:"icon-list",detailOpen:"icon-plus",detailClose:"icon-minus",fullscreen:"icon-maximize",search:"icon-search",clearSearch:"icon-trash-2"},"material-icons":{paginationSwitchDown:"grid_on",paginationSwitchUp:"grid_off",refresh:"refresh",toggleOff:"tablet",toggleOn:"tablet_android",columns:"view_list",detailOpen:"add",detailClose:"remove",fullscreen:"fullscreen",sort:"sort",search:"search",clearSearch:"delete"}}[t]||{}),getSearchInput:t=>"string"==typeof t.options.searchSelector?$(t.options.searchSelector):t.$toolbar.find(".search input"),extend(...t){let e,o=t[0]||{},r=1,i=!1;for("boolean"==typeof o&&(i=o,o=t[r]||{},r++),"object"!=typeof o&&"function"!=typeof o&&(o={});r<t.length;r++){const n=t[r];if(null!=n)for(const t in n){const r=n[t];if("__proto__"===t||o===r)continue;const s=Array.isArray(r);if(i&&r&&(this.isObject(r)||s)){const n=o[t];if(s&&Array.isArray(n)&&n.every((t=>!this.isObject(t)&&!Array.isArray(t)))){o[t]=r;continue}e=s&&!Array.isArray(n)?[]:s||this.isObject(n)?n:{},o[t]=this.extend(i,e,r)}else void 0!==r&&(o[t]=r)}}return o},sprintf(t,...e){let o=!0,r=0;const i=t.replace(/%s/g,(()=>{const t=e[r++];return void 0===t?(o=!1,""):t}));return o?i:""},isObject(t){if("object"!=typeof t||null===t)return!1;let e=t;for(;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},isEmptyObject:(t={})=>0===Object.entries(t).length&&t.constructor===Object,isNumeric:t=>!isNaN(parseFloat(t))&&isFinite(t),getFieldTitle(t,e){for(const o of t)if(o.field===e)return o.title;return""},setFieldIndex(t){let e=0;const o=[];for(const o of t[0])e+=o.colspan||1;for(let r=0;r<t.length;r++){o[r]=[];for(let t=0;t<e;t++)o[r][t]=!1}for(let e=0;e<t.length;e++)for(const r of t[e]){const t=r.rowspan||1,i=r.colspan||1,n=o[e].indexOf(!1);r.colspanIndex=n,1===i?(r.fieldIndex=n,void 0===r.field&&(r.field=n)):r.colspanGroup=r.colspan;for(let r=0;r<t;r++)for(let t=0;t<i;t++)o[e+r][n+t]=!0}},normalizeAccent:t=>"string"!=typeof t?t:t.normalize("NFD").replace(/[\u0300-\u036f]/g,""),updateFieldGroup(t,e){const o=[].concat(...t);for(const e of t)for(const t of e)if(t.colspanGroup>1){let e=0;for(let r=t.colspanIndex;r<t.colspanIndex+t.colspanGroup;r++){const t=o.filter((t=>t.fieldIndex===r)),i=t[t.length-1];if(t.length>1)for(let e=0;e<t.length-1;e++)t[e].visible=i.visible;i.visible&&e++}t.colspan=e,t.visible=e>0}if(!(t.length<2))for(const t of e){const e=o.filter((e=>e.fieldIndex===t.fieldIndex));if(e.length>1)for(const o of e)o.visible=t.visible}},getScrollBarWidth(){if(void 0===this.cachedWidth){const t=$("<div/>").addClass("fixed-table-scroll-inner"),e=$("<div/>").addClass("fixed-table-scroll-outer");e.append(t),$("body").append(e);const o=t[0].offsetWidth;e.css("overflow","scroll");let r=t[0].offsetWidth;o===r&&(r=e[0].clientWidth),e.remove(),this.cachedWidth=o-r}return this.cachedWidth},calculateObjectValue(t,e,o,r){let i=e;if("string"==typeof e){const t=e.split(".");if(t.length>1){i=window;for(const e of t)i=i[e]}else i=window[e]}return null!==i&&"object"==typeof i?i:"function"==typeof i?i.apply(t,o||[]):!i&&"string"==typeof e&&o&&this.sprintf(e,...o)?this.sprintf(e,...o):r},compareObjects(t,e,o){const r=Object.keys(t),i=Object.keys(e);if(o&&r.length!==i.length)return!1;for(const o of r)if(i.includes(o)&&t[o]!==e[o])return!1;return!0},regexCompare(t,e){try{const o=e.match(/^\/(.*?)\/([gim]*)$/);if(-1!==t.toString().search(o?new RegExp(o[1],o[2]):new RegExp(e,"gim")))return!0}catch(t){return!1}return!1},escapeApostrophe:t=>t.toString().replace(/'/g,"&#39;"),escapeHTML:t=>t?t.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"):t,unescapeHTML:t=>"string"==typeof t&&t?t.toString().replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'"):t,removeHTML:t=>t?t.toString().replace(/(<([^>]+)>)/gi,"").replace(/&[#A-Za-z0-9]+;/gi,"").trim():t,getRealDataAttr(t){for(const[e,o]of Object.entries(t)){const r=e.split(/(?=[A-Z])/).join("-").toLowerCase();r!==e&&(t[r]=o,delete t[e])}return t},getItemField(t,e,o,r=void 0){let i=t;if(void 0!==r&&(o=r),"string"!=typeof e||t.hasOwnProperty(e))return o?this.escapeHTML(t[e]):t[e];const n=e.split(".");for(const t of n)i=i&&i[t];return o?this.escapeHTML(i):i},isIEBrowser:()=>navigator.userAgent.includes("MSIE ")||/Trident.*rv:11\./.test(navigator.userAgent),findIndex(t,e){for(const o of t)if(JSON.stringify(o)===JSON.stringify(e))return t.indexOf(o);return-1},trToData(t,e){const o=[],r=[];return e.each(((e,i)=>{const n=$(i),s={};s._id=n.attr("id"),s._class=n.attr("class"),s._data=this.getRealDataAttr(n.data()),s._style=n.attr("style"),n.find(">td,>th").each(((o,i)=>{const n=$(i),a=+n.attr("colspan")||1,l=+n.attr("rowspan")||1;let c=o;for(;r[e]&&r[e][c];c++);for(let t=c;t<c+a;t++)for(let o=e;o<e+l;o++)r[o]||(r[o]=[]),r[o][t]=!0;const f=t[c].field;s[f]=this.escapeApostrophe(n.html().trim()),s[`_${f}_id`]=n.attr("id"),s[`_${f}_class`]=n.attr("class"),s[`_${f}_rowspan`]=n.attr("rowspan"),s[`_${f}_colspan`]=n.attr("colspan"),s[`_${f}_title`]=n.attr("title"),s[`_${f}_data`]=this.getRealDataAttr(n.data()),s[`_${f}_style`]=n.attr("style")})),o.push(s)})),o},sort(t,e,o,r,i,n){if(null==t&&(t=""),null==e&&(e=""),r.sortStable&&t===e&&(t=i,e=n),this.isNumeric(t)&&this.isNumeric(e))return(t=parseFloat(t))<(e=parseFloat(e))?-1*o:t>e?o:0;if(r.sortEmptyLast){if(""===t)return 1;if(""===e)return-1}return t===e?0:("string"!=typeof t&&(t=t.toString()),-1===t.localeCompare(e)?-1*o:o)},getEventName:(t,e="")=>`${t}-${e=e||`${+new Date}${~~(1e6*Math.random())}`}`,hasDetailViewIcon:t=>t.detailView&&t.detailViewIcon&&!t.cardView,getDetailViewIndexOffset(t){return this.hasDetailViewIcon(t)&&"right"!==t.detailViewAlign?1:0},checkAutoMergeCells(t){for(const e of t)for(const t of Object.keys(e))if(t.startsWith("_")&&(t.endsWith("_rowspan")||t.endsWith("_colspan")))return!0;return!1},deepCopy(t){return void 0===t?t:this.extend(!0,Array.isArray(t)?[]:{},t)},debounce(t,e,o){let r;return function(){const i=this,n=arguments,s=o&&!r;clearTimeout(r),r=setTimeout((function(){r=null,o||t.apply(i,n)}),e),s&&t.apply(i,n)}}};