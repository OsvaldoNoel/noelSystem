let supportsPassive=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>{supportsPassive=!0}}))}catch(e){}class DOMEvents{constructor(){this._pool=[]}add(e,t,s,i){this._toggleListener(e,t,s,i)}remove(e,t,s,i){this._toggleListener(e,t,s,i,!0)}removeAll(){this._pool.forEach((e=>{this._toggleListener(e.target,e.type,e.listener,e.passive,!0,!0)})),this._pool=[]}_toggleListener(e,t,s,i,o,r){if(!e)return;const p=o?"removeEventListener":"addEventListener";t.split(" ").forEach((t=>{if(t){r||(o?this._pool=this._pool.filter((i=>i.type!==t||i.listener!==s||i.target!==e)):this._pool.push({target:e,type:t,listener:s,passive:i}));const l=!!supportsPassive&&{passive:i||!1};e[p](t,s,l)}}))}}export default DOMEvents;