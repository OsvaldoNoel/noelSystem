"use strict";import gulp from"gulp";import sass from"gulp-sass";import cleanCSS from"gulp-clean-css";import rename from"gulp-rename";import replace from"gulp-replace";import autoprefixer from"gulp-autoprefixer";import uglify from"gulp-uglify";import jshint from"gulp-jshint";import saveLicense from"uglify-save-license";let pkg=require("./package.json"),version=pkg.version,date=new Date,yyyy=date.getFullYear().toString(),mm=(date.getMonth()+1).toString(),dd=date.getDate().toString(),yyyymmdd=`${yyyy}-${mm}-${dd}`,banner=`/*!\n * jQuery Typeahead\n * Copyright (C) ${yyyy} RunningCoder.org\n * Licensed under the MIT license\n *\n * @author ${pkg.author.name}\n * @version ${version} (${yyyymmdd})\n * @link http://www.runningcoder.org/jquerytypeahead/\n */\n`;gulp.task("scss",(function(){return gulp.src("./src/jquery.typeahead.scss").pipe(sass({outputStyle:"expanded"})).pipe(autoprefixer({browsers:["last 3 versions","ie >= 8","ios >= 7","android >= 4.4","bb >= 10"],cascade:!1})).pipe(gulp.dest("./src")).pipe(cleanCSS()).pipe(rename("jquery.typeahead.min.css")).pipe(gulp.dest("./dist"))})),gulp.task("jshint",(function(){return gulp.src("./src/jquery.typeahead.js").pipe(jshint({shadow:!0,expr:!0,loopfunc:!0,"-W086":!0,validthis:!0,scripturl:!0})).pipe(jshint.reporter("default"))})),gulp.task("js",(function(){return gulp.src("./src/jquery.typeahead.js").pipe(replace(/\/\*![\S\s]+?\*\/[\r\n]*/,banner)).pipe(replace(/version: ["'].*?["']/,`version: '${version}'`)).pipe(gulp.dest("./src")).pipe(rename("jquery.typeahead.min.js")).pipe(replace(/\/\/\s?\{debug}[\s\S]*?\{\/debug}/g,"")).pipe(uglify({mangle:!0,output:{comments:saveLicense}})).pipe(gulp.dest("./dist"))})),gulp.task("watch",(function(){gulp.watch("./src/jquery.typeahead.scss",gulp.task("scss")).on("change",(function(e){console.log(e)}))})),gulp.task("default",gulp.parallel("scss","js"));