const $=require("jquery"),Typeahead=require("../../src/jquery.typeahead");describe("Typeahead searchOnFocus option Tests",(()=>{"use strict";let e;describe("Typeahead searchOnFocus is defined, the source should be searched when focused",(()=>{beforeAll((()=>{document.body.innerHTML='\n<form>\n  <div class="typeahead__container">\n    <div class="typeahead__field">\n        <div class="typeahead__query">\n           <input class="js-typeahead" />\n        </div>\n    </div>\n  </div>\n</form>',e=$.typeahead({input:".js-typeahead",minLength:0,searchOnFocus:!0,source:{data:["data1","data2","data3"]}})})),it("Should display results when the Typeahead input is focused",(a=>{expect(e.result).toEqual([]),e.node.triggerHandler("focus").done((()=>{expect(e.source).toEqual({group:[{display:"data1",group:"group"},{display:"data2",group:"group"},{display:"data3",group:"group"}]}),expect(e.result.length).toEqual(3),expect(e.container.hasClass("result")).toBeTruthy(),a()}))}))})),describe("Typeahead searchOnFocus is defined, the source should not be searched when focused because of minLength: 2",(()=>{beforeAll((()=>{document.body.innerHTML='\n<form>\n  <div class="typeahead__container">\n    <div class="typeahead__field">\n        <div class="typeahead__query">\n           <input class="js-typeahead" />\n        </div>\n    </div>\n  </div>\n</form>',e=$.typeahead({input:".js-typeahead",searchOnFocus:!0,dynamic:!0,source:{data:["data1","data2","data3"]}})})),it("Should not display results when the Typeahead input is focused",(a=>{expect(e.result).toEqual([]),e.node.triggerHandler("focus").done((()=>{expect(e.result).toEqual([]),expect(e.container.hasClass("result")).toBeFalsy(),e.node.val("da").triggerHandler("focus").done((()=>{expect(e.container.hasClass("result")).toBeTruthy(),a()}))}))}))}))}));