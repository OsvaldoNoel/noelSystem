const $=require("jquery"),Typeahead=require("../../src/jquery.typeahead");describe("Typeahead href option Tests",(()=>{"use strict";let e,t={};beforeAll((()=>{document.body.innerHTML='<input class="js-typeahead">',e=$.typeahead({input:".js-typeahead",generateOnLoad:!0,minLength:0,maxItem:8,maxItemPerGroup:3,display:["display"],href:function(e){return"/group/"+e.group+"/item/"+e.display},source:{group1:{data:["group1-data1","group1-data2","group1-data3","group1-data4"]},group2:{href:"/test/{{group}}/test/{{display}}",data:["group2-data1","group2-data2","group2-data3","group2-data4"]}},callback:{onClick:function(e,a,r,u){t=r}}})})),it("Should display a href attribute on a result item",(()=>{e.node.val("data1").trigger("input"),expect(e.resultContainer.find("li:eq(0) a").attr("href")).toEqual("/group/group1/item/group1-data1"),expect(e.resultContainer.find("li:eq(1) a").attr("href")).toEqual("/test/group2/test/group2-data1")})),it("Should transfer the href link to the clicked item",(()=>{e.resultContainer.find("li:eq(0) a").trigger("click"),expect(t).toEqual({matchedKey:"display",display:"group1-data1",group:"group1",href:"/group/group1/item/group1-data1"})}))}));