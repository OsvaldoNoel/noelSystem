const $=require("jquery"),Typeahead=require("../../src/jquery.typeahead");describe("Typeahead onSubmit Callback Tests",(()=>{"use strict";let e,t,a,n=$.Event("keydown");n.keyCode=13,beforeAll((()=>{document.body.innerHTML='<form>\n            <div class="typeahead__container">\n                <div class="typeahead__field">\n                    <div class="typeahead__query">\n                        <input class="js-typeahead"\n                               name="q"\n                               autofocus\n                               autocomplete="off">\n                    </div>\n                    <div class="typeahead__button">\n                        <button type="submit">\n                            <span class="typeahead__search-icon"></span>\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </form>',e=$.typeahead({input:".js-typeahead",minLength:0,source:[{id:1,display:"Test"},{id:2,display:"callback"}],callback:{onSubmit:function(e,n,s,i){i.preventDefault(),t=!0,a=s}}})})),it("Should call onSubmit callback with with the selected item",(()=>{e.node.val("test").trigger("input"),e.resultContainer.find("li:eq(0) a").trigger("click"),expect(e.container.hasClass("result")).toBeFalsy(),e.node.trigger(n),expect(t).toBeTruthy(),expect(a).toEqual({display:"Test",group:"group",id:1,matchedKey:"display"}),expect(e.container.hasClass("result")).toBeFalsy()}))})),describe("Typeahead onSubmit Callback Tests",(()=>{"use strict";let e,t,a;beforeAll((()=>{document.body.innerHTML='<form>\n            <div class="typeahead__container">\n                <div class="typeahead__field">\n                    <div class="typeahead__query">\n                        <input class="js-typeahead"\n                               name="q"\n                               autofocus\n                               autocomplete="off">\n                    </div>\n                    <div class="typeahead__button">\n                        <button type="submit">\n                            <span class="typeahead__search-icon"></span>\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </form>',e=$.typeahead({input:".js-typeahead",minLength:0,multiselect:{data:[{id:1,display:"Test"},{id:2,display:"callback"}]},source:[{id:1,display:"Test"},{id:2,display:"callback"}],callback:{onSubmit:function(e,n,s,i){i.preventDefault(),t=!0,a=s}}})})),it("Should call onSubmit callback with with the selected item",(()=>{e.node.closest("form").submit(),expect(t).toBeTruthy(),expect(a).toEqual([{display:"Test",id:1},{display:"callback",id:2}]),expect(e.container.hasClass("result")).toBeFalsy()}))}));