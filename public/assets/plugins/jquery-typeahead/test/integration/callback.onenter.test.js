const $=require("jquery"),Typeahead=require("../../src/jquery.typeahead");describe("Typeahead onEnter and onLeave Callback Tests",(()=>{"use strict";let e,t=null,a=0,n=null,d=0;beforeAll((()=>{document.body.innerHTML='<input class="js-typeahead">',e=$.typeahead({input:".js-typeahead",minLength:0,generateOnLoad:!0,source:["data1","data2"],callback:{onEnter:function(e,n,d,o){t=d,a++},onLeave:function(e,t,a,o){n=a,d++}}})})),it("Should call onEnter callback first item is browser with arrow down",(()=>{e.navigate($.Event("keydown",{keyCode:40})),expect(e.resultContainer.find("li:eq(0)").hasClass("active")).toBeTruthy(),expect(a).toEqual(1),expect(d).toEqual(1),expect(n).toBeUndefined(),expect(t).toEqual({matchedKey:"display",display:"data1",group:"group"}),e.navigate($.Event("keydown",{keyCode:40})),expect(e.resultContainer.find("li:eq(1)").hasClass("active")).toBeTruthy(),expect(n).toEqual({matchedKey:"display",display:"data1",group:"group"}),expect(t).toEqual({matchedKey:"display",display:"data2",group:"group"}),e.navigate($.Event("keydown",{keyCode:40})),expect(e.resultContainer.find(".active")[0]).toBeUndefined(),expect(n).toEqual({matchedKey:"display",display:"data2",group:"group"}),expect(t).toBeUndefined(),e.navigate($.Event("keydown",{keyCode:38})),expect(e.resultContainer.find("li:eq(1)").hasClass("active")).toBeTruthy(),expect(a).toEqual(4),expect(d).toEqual(4),expect(n).toBeUndefined(),expect(t).toEqual({matchedKey:"display",display:"data2",group:"group"})}))}));